{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"bg-red-400/10 text-red-400 border-red-400/50 [&>svg]:text-red-400\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,2KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,8JAAM,UAAU,MAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,8JAAM,UAAU,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,8JAAM,UAAU,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/button.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport * as React from 'react'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-primary text-primary-foreground shadow hover:bg-primary-hover',\n        destructive:\n          'bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background shadow-sm hover:bg-primary/5 dark:hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80',\n        ghost: 'hover:bg-primary/5 dark:hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2',\n        sm: 'h-8 rounded-md px-3 text-xs',\n        lg: 'h-10 rounded-md px-8',\n        icon: 'h-9 w-9',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,8JAAM,UAAU,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;;;;;;AAOA,MAAM,sBAAQ,8JAAM,UAAU,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,wUACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,8JAAM,UAAU,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAe,IAAI;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,qKAAe,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAOA,MAAM,0BAAY,8JAAM,UAAU,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,yKAAmB,IAAI;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,yKAAmB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/auth.tsx"],"sourcesContent":["import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Separator } from '@/components/ui/separator'\nimport { cn } from '@/lib/utils'\nimport { Provider, SupabaseClient } from '@supabase/supabase-js'\nimport {\n  AlertCircle,\n  CheckCircle2,\n  KeyRound,\n  Loader2,\n  Mail,\n} from 'lucide-react'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport * as SimpleIcons from 'simple-icons'\n\nconst VIEWS = {\n  SIGN_IN: 'sign_in',\n  SIGN_UP: 'sign_up',\n  FORGOTTEN_PASSWORD: 'forgotten_password',\n  MAGIC_LINK: 'magic_link',\n  UPDATE_PASSWORD: 'update_password',\n} as const\n\nexport type ViewType = (typeof VIEWS)[keyof typeof VIEWS]\n\ntype RedirectTo = undefined | string\n\nexport interface AuthProps {\n  supabaseClient: SupabaseClient\n  socialLayout?: 'horizontal' | 'vertical'\n  providers?: Provider[]\n  view?: ViewType\n  redirectTo?: RedirectTo\n  onlyThirdPartyProviders?: boolean\n  magicLink?: boolean\n  onSignUpValidate?: (email: string, password: string) => Promise<boolean>\n  metadata?: Record<string, any>\n}\n\ninterface SubComponentProps {\n  supabaseClient: SupabaseClient\n  setAuthView: (view: ViewType) => void\n  setLoading: (loading: boolean) => void\n  setError: (error: string | null) => void\n  setMessage: (message: string | null) => void\n  clearMessages: () => void\n  loading: boolean\n  redirectTo?: RedirectTo\n}\n\ninterface SocialAuthProps {\n  supabaseClient: SupabaseClient\n  providers: Provider[]\n  layout?: 'horizontal' | 'vertical'\n  redirectTo?: RedirectTo\n  setLoading: (loading: boolean) => void\n  setError: (error: string) => void\n  clearMessages: () => void\n  loading: boolean\n}\n\ninterface EmailAuthProps extends SubComponentProps {\n  view: typeof VIEWS.SIGN_IN | typeof VIEWS.SIGN_UP\n  magicLink?: boolean\n  onSignUpValidate?: (email: string, password: string) => Promise<boolean>\n  metadata?: Record<string, any>\n}\n\ninterface UseAuthFormReturn {\n  loading: boolean\n  error: string | null\n  message: string | null\n  setLoading: (loading: boolean) => void\n  setError: (error: string | null) => void\n  setMessage: (message: string | null) => void\n  clearMessages: () => void\n}\n\nconst ProviderIcons: {\n  [key in Provider]?: React.ComponentType<{ className?: string }>\n} = {\n  github: ({ className }) => (\n    <svg\n      role=\"img\"\n      viewBox=\"0 0 24 24\"\n      className={className}\n      fill=\"currentColor\"\n      dangerouslySetInnerHTML={{ __html: SimpleIcons.siGithub.svg }}\n    />\n  ),\n  google: ({ className }) => (\n    <svg\n      role=\"img\"\n      viewBox=\"0 0 24 24\"\n      className={className}\n      fill=\"currentColor\"\n      dangerouslySetInnerHTML={{ __html: SimpleIcons.siGoogle.svg }}\n    />\n  ),\n}\n\nfunction useAuthForm(): UseAuthFormReturn {\n  const [loading, setLoading] = useState(false)\n  const [error, setErrorState] = useState<string | null>(null)\n  const [message, setMessageState] = useState<string | null>(null)\n\n  const setError = useCallback((errorMsg: string | null) => {\n    setErrorState(errorMsg)\n    if (errorMsg) setMessageState(null)\n  }, [])\n\n  const setMessage = useCallback((msg: string | null) => {\n    setMessageState(msg)\n    if (msg) setErrorState(null)\n  }, [])\n\n  const clearMessages = useCallback(() => {\n    setErrorState(null)\n    setMessageState(null)\n  }, [])\n\n  return {\n    loading,\n    error,\n    message,\n    setLoading,\n    setError,\n    setMessage,\n    clearMessages,\n  }\n}\n\nfunction SocialAuth({\n  supabaseClient,\n  providers,\n  layout = 'vertical',\n  redirectTo,\n  setLoading,\n  setError,\n  clearMessages,\n  loading,\n}: SocialAuthProps) {\n  const handleProviderSignIn = async (provider: Provider) => {\n    clearMessages()\n    setLoading(true)\n    const { error } = await supabaseClient.auth.signInWithOAuth({\n      provider,\n      options: { redirectTo },\n    })\n    if (error) setError(error.message)\n  }\n\n  return (\n    <div\n      className={cn(\n        'space-y-3',\n        layout === 'horizontal' && 'flex space-y-0 space-x-3',\n      )}\n    >\n      {providers.map((provider) => {\n        const IconComponent = ProviderIcons[provider]\n        const providerName =\n          provider.charAt(0).toUpperCase() + provider.slice(1)\n        return (\n          <Button\n            key={provider}\n            variant=\"outline\"\n            className=\"w-full flex items-center justify-center gap-2\"\n            onClick={() => handleProviderSignIn(provider)}\n            disabled={loading}\n          >\n            {IconComponent && <IconComponent className=\"h-4 w-4\" />}\n            {layout === 'vertical'\n              ? `Continue with ${providerName}`\n              : providerName}\n          </Button>\n        )\n      })}\n    </div>\n  )\n}\n\ninterface SignInFormProps extends SubComponentProps {\n  magicLink?: boolean\n}\n\nfunction SignInForm({\n  supabaseClient,\n  setAuthView,\n  setLoading,\n  setError,\n  clearMessages,\n  loading,\n}: SignInFormProps) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleSignIn = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    clearMessages()\n    setLoading(true)\n\n    try {\n      const { error } = await supabaseClient.auth.signInWithPassword({\n        email,\n        password,\n      })\n      if (error) throw error\n    } catch (error: any) {\n      setError(error.message || 'An unexpected error occurred.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <form id=\"auth-sign-in\" onSubmit={handleSignIn} className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email address</Label>\n        <div className=\"relative\">\n          <Mail className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"you@codinit.dev\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"email\"\n          />\n        </div>\n      </div>\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <Label htmlFor=\"password\">Password</Label>\n          <Button\n            variant=\"link\"\n            type=\"button\"\n            onClick={() => setAuthView(VIEWS.FORGOTTEN_PASSWORD)}\n            className=\"p-0 h-auto font-normal text-muted-foreground text-sm\"\n          >\n            Forgot your password?\n          </Button>\n        </div>\n        <div className=\"relative\">\n          <KeyRound className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"password\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"current-password\"\n          />\n        </div>\n      </div>\n\n      <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n        {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        Sign In\n      </Button>\n    </form>\n  )\n}\n\ninterface SignUpFormProps extends SubComponentProps {\n  onSignUpValidate?: (email: string, password: string) => Promise<boolean>\n  metadata?: Record<string, any>\n}\n\nfunction SignUpForm({\n  supabaseClient,\n  setAuthView,\n  setLoading,\n  setError,\n  setMessage,\n  clearMessages,\n  loading,\n  redirectTo,\n  onSignUpValidate,\n  metadata,\n}: SignUpFormProps) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n\n  const handleSignUp = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    clearMessages()\n    setLoading(true)\n\n    try {\n      if (password !== confirmPassword) {\n        throw new Error('Passwords do not match')\n      }\n      if (onSignUpValidate) {\n        const isValid = await onSignUpValidate(email, password)\n        if (!isValid) {\n          throw new Error(\n            'Invalid email address. Please use a different email.',\n          )\n        }\n      }\n      const { data, error } = await supabaseClient.auth.signUp({\n        email,\n        password,\n        options: {\n          emailRedirectTo: redirectTo,\n          data: {\n            ...metadata,\n            first_name: firstName,\n            last_name: lastName,\n          },\n        },\n      })\n      if (error) throw error\n      if (data.user && !data.session) {\n        setMessage('Check your email for the confirmation link.')\n      }\n    } catch (error: any) {\n      setError(error.message || 'An unexpected error occurred.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <form id=\"auth-sign-up\" onSubmit={handleSignUp} className=\"space-y-4\">\n      <div className=\"flex gap-4\">\n        <div className=\"space-y-2 w-1/2\">\n          <Label htmlFor=\"first-name\">First Name</Label>\n          <Input\n            id=\"first-name\"\n            type=\"text\"\n            placeholder=\"John\"\n            value={firstName}\n            onChange={(e) => setFirstName(e.target.value)}\n            required\n            autoComplete=\"given-name\"\n          />\n        </div>\n        <div className=\"space-y-2 w-1/2\">\n          <Label htmlFor=\"last-name\">Last Name</Label>\n          <Input\n            id=\"last-name\"\n            type=\"text\"\n            placeholder=\"Doe\"\n            value={lastName}\n            onChange={(e) => setLastName(e.target.value)}\n            required\n            autoComplete=\"family-name\"\n          />\n        </div>\n      </div>\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email address</Label>\n        <div className=\"relative\">\n          <Mail className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"you@codinit.dev\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"email\"\n          />\n        </div>\n      </div>\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"password\">Password</Label>\n        <div className=\"relative\">\n          <KeyRound className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"password\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"new-password\"\n          />\n        </div>\n      </div>\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"confirm-password\">Confirm Password</Label>\n        <div className=\"relative\">\n          <KeyRound className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"confirm-password\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"new-password\"\n          />\n        </div>\n      </div>\n\n      <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n        {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        Sign Up\n      </Button>\n    </form>\n  )\n}\n\nfunction MagicLink({\n  supabaseClient,\n  setAuthView,\n  setLoading,\n  setError,\n  setMessage,\n  clearMessages,\n  loading,\n  redirectTo,\n}: SubComponentProps) {\n  const [email, setEmail] = useState('')\n\n  const handleMagicLinkSignIn = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    clearMessages()\n    setLoading(true)\n    const { error } = await supabaseClient.auth.signInWithOtp({\n      email,\n      options: {\n        emailRedirectTo: redirectTo,\n      },\n    })\n    if (error) setError(error.message)\n    else setMessage('Check your email for the magic link.')\n    setLoading(false)\n  }\n\n  return (\n    <form\n      id=\"auth-magic-link\"\n      onSubmit={handleMagicLinkSignIn}\n      className=\"space-y-4\"\n    >\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email address</Label>\n        <div className=\"relative\">\n          <Mail className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"you@codinit.dev\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"email\"\n          />\n        </div>\n      </div>\n      <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n        {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        Send Magic Link\n      </Button>\n    </form>\n  )\n}\n\nfunction ForgottenPassword({\n  supabaseClient,\n  setLoading,\n  setError,\n  setMessage,\n  clearMessages,\n  loading,\n  redirectTo,\n}: Omit<SubComponentProps, 'email' | 'setEmail'>) {\n  const [email, setEmail] = useState('')\n\n  const handlePasswordReset = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    clearMessages()\n    setLoading(true)\n    const { error } = await supabaseClient.auth.resetPasswordForEmail(email, {\n      redirectTo,\n    })\n    if (error) setError(error.message)\n    else setMessage('Check your email for password reset instructions.')\n    setLoading(false)\n  }\n\n  return (\n    <form\n      id=\"auth-forgot-password\"\n      onSubmit={handlePasswordReset}\n      className=\"space-y-4\"\n    >\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email address</Label>\n        <div className=\"relative\">\n          <Mail className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"you@codinit.dev\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"email\"\n          />\n        </div>\n      </div>\n      <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n        {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        Send Reset Instructions\n      </Button>\n    </form>\n  )\n}\n\nfunction UpdatePassword({\n  supabaseClient,\n  setLoading,\n  setError,\n  setMessage,\n  clearMessages,\n  loading,\n}: Omit<\n  SubComponentProps,\n  'setAuthView' | 'redirectTo' | 'email' | 'setEmail'\n>) {\n  const [password, setPassword] = useState('')\n\n  const handlePasswordUpdate = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    clearMessages()\n    setLoading(true)\n    const { error } = await supabaseClient.auth.updateUser({ password })\n    if (error) setError(error.message)\n    else setMessage('Password updated successfully.')\n    setLoading(false)\n    if (!error) setPassword('')\n  }\n\n  return (\n    <form\n      id=\"auth-update-password\"\n      onSubmit={handlePasswordUpdate}\n      className=\"space-y-4\"\n    >\n      <h3 className=\"text-lg font-semibold\">Update Password</h3>\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"new-password\">New Password</Label>\n        <div className=\"relative\">\n          <KeyRound className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            id=\"new-password\"\n            type=\"password\"\n            placeholder=\"Enter new password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            className=\"pl-10\"\n            autoComplete=\"new-password\"\n          />\n        </div>\n      </div>\n      <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n        {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        Update Password\n      </Button>\n    </form>\n  )\n}\n\nfunction Auth({\n  supabaseClient,\n  socialLayout = 'vertical',\n  providers,\n  view = VIEWS.SIGN_IN,\n  redirectTo,\n  onlyThirdPartyProviders = false,\n  magicLink = false,\n  onSignUpValidate,\n  metadata,\n}: AuthProps): JSX.Element | null {\n  const [authView, setAuthView] = useState<ViewType>(view)\n  const {\n    loading,\n    error,\n    message,\n    setLoading,\n    setError,\n    setMessage,\n    clearMessages,\n  } = useAuthForm()\n\n  useEffect(() => {\n    setAuthView(view)\n    setError(null)\n    setMessage(null)\n  }, [view, setError, setMessage])\n\n  const setAuthViewAndClearMessages = useCallback(\n    (newView: ViewType) => {\n      setAuthView(newView)\n      setError(null)\n      setMessage(null)\n    },\n    [setError, setMessage],\n  )\n\n  const commonProps = {\n    supabaseClient,\n    setAuthView: setAuthViewAndClearMessages,\n    setLoading,\n    setError,\n    setMessage,\n    clearMessages,\n    loading,\n    redirectTo,\n  }\n\n  let viewComponent: React.ReactNode = null\n\n  switch (authView) {\n    case VIEWS.SIGN_IN:\n      viewComponent = <SignInForm {...commonProps} />\n      break\n    case VIEWS.SIGN_UP:\n      viewComponent = (\n        <SignUpForm\n          {...commonProps}\n          onSignUpValidate={onSignUpValidate}\n          metadata={metadata}\n        />\n      )\n      break\n    case VIEWS.FORGOTTEN_PASSWORD:\n      viewComponent = <ForgottenPassword {...commonProps} />\n      break\n    case VIEWS.MAGIC_LINK:\n      viewComponent = <MagicLink {...commonProps} />\n      break\n    case VIEWS.UPDATE_PASSWORD:\n      viewComponent = <UpdatePassword {...commonProps} />\n      break\n    default:\n      viewComponent = null\n  }\n\n  const showSocialAuth = providers && providers.length > 0\n  const showSeparator = showSocialAuth && !onlyThirdPartyProviders\n\n  return (\n    <div className=\"w-full space-y-4\">\n      {authView === VIEWS.UPDATE_PASSWORD ? (\n        viewComponent\n      ) : (\n        <>\n          {showSocialAuth && (\n            <SocialAuth\n              supabaseClient={supabaseClient}\n              providers={providers || []}\n              layout={socialLayout}\n              redirectTo={redirectTo}\n              setLoading={setLoading}\n              setError={setError}\n              clearMessages={clearMessages}\n              loading={loading}\n            />\n          )}\n          {showSeparator && (\n            <div className=\"relative my-4\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <Separator />\n              </div>\n              <div className=\"relative flex justify-center text-xs uppercase\">\n                <span className=\"bg-background px-2 text-muted-foreground\">\n                  Or continue with\n                </span>\n              </div>\n            </div>\n          )}\n          {!onlyThirdPartyProviders && viewComponent}\n        </>\n      )}\n\n      {!onlyThirdPartyProviders && authView !== VIEWS.UPDATE_PASSWORD && (\n        <div className=\"text-center text-sm space-y-1 mt-4\">\n          {authView === VIEWS.SIGN_IN && (\n            <>\n              {magicLink && (\n                <Button\n                  variant=\"link\"\n                  type=\"button\"\n                  onClick={() => setAuthViewAndClearMessages(VIEWS.MAGIC_LINK)}\n                  className=\"p-0 h-auto font-normal\"\n                >\n                  Sign in with magic link\n                </Button>\n              )}\n              <p className=\"text-muted-foreground\">\n                Don&apos;t have an account?{' '}\n                <Button\n                  variant=\"link\"\n                  type=\"button\"\n                  onClick={() => setAuthViewAndClearMessages(VIEWS.SIGN_UP)}\n                  className=\"p-0 h-auto underline\"\n                >\n                  Sign up\n                </Button>\n              </p>\n            </>\n          )}\n          {authView === VIEWS.SIGN_UP && (\n            <p className=\"text-muted-foreground\">\n              Already have an account?{' '}\n              <Button\n                variant=\"link\"\n                type=\"button\"\n                onClick={() => setAuthViewAndClearMessages(VIEWS.SIGN_IN)}\n                className=\"p-0 h-auto underline\"\n              >\n                Sign in\n              </Button>\n            </p>\n          )}\n          {authView === VIEWS.MAGIC_LINK && (\n            <Button\n              variant=\"link\"\n              type=\"button\"\n              onClick={() => setAuthViewAndClearMessages(VIEWS.SIGN_IN)}\n              className=\"p-0 h-auto font-normal\"\n            >\n              Sign in with password instead\n            </Button>\n          )}\n          {authView === VIEWS.FORGOTTEN_PASSWORD && (\n            <Button\n              variant=\"link\"\n              type=\"button\"\n              onClick={() => setAuthViewAndClearMessages(VIEWS.SIGN_IN)}\n              className=\"p-0 h-auto underline\"\n            >\n              Back to Sign In\n            </Button>\n          )}\n        </div>\n      )}\n\n      <div className=\"mt-4 space-y-2\">\n        {error && (\n          <Alert variant=\"destructive\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertTitle>Error</AlertTitle>\n            <AlertDescription>{error}</AlertDescription>\n          </Alert>\n        )}\n        {message && (\n          <Alert variant=\"default\">\n            <CheckCircle2 className=\"h-4 w-4\" />\n            <AlertTitle>Success</AlertTitle>\n            <AlertDescription>{message}</AlertDescription>\n          </Alert>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Auth\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1455, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1460, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1467, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1472, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"h-full md:h-auto fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;AAQA,MAAM,SAAS,sKAAgB,IAAI;AAEnC,MAAM,gBAAgB,sKAAgB,OAAO;AAE7C,MAAM,eAAe,sKAAgB,MAAM;AAE3C,MAAM,cAAc,sKAAgB,KAAK;AAEzC,MAAM,8BAAgB,8JAAM,UAAU,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,sKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,8JAAM,UAAU,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,sKAAgB,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,ghBACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,sKAAgB,KAAK;wBAAC,WAAU;;0CAC/B,6LAAC,mLAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;0CACtB,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,sKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,sKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,8JAAM,UAAU,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,sKAAgB,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 1615, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1620, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/auth-dialog.tsx"],"sourcesContent":["import Auth, { ViewType } from './auth'\nimport { validateEmail } from '@/app/actions/validate-email'\nimport Image from 'next/image'\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  DialogDescription,\n} from '@/components/ui/dialog'\nimport { VisuallyHidden } from '@radix-ui/react-visually-hidden'\nimport { SupabaseClient } from '@supabase/supabase-js'\n\nexport function AuthDialog({\n  open,\n  setOpen,\n  supabase,\n  view,\n}: {\n  open: boolean\n  setOpen: (open: boolean) => void\n  supabase: SupabaseClient\n  view: ViewType\n}) {\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogContent>\n        <VisuallyHidden>\n          <DialogTitle>Sign in</DialogTitle>\n          <DialogDescription>\n            Sign in or create an account.\n          </DialogDescription>\n        </VisuallyHidden>\n          <h1 className=\"flex items-center gap-4 text-xl font-bold mb-6 w-full\">\n            <Image src=\"/icon.png\" alt=\"CodinIT\" width={32} height={32} />\n            Sign in to CodinIT\n          </h1>\n          <div className=\"w-full\">\n            <Auth\n              supabaseClient={supabase}\n              view={view}\n              providers={['github', 'google']}\n              socialLayout=\"horizontal\"\n              onSignUpValidate={validateEmail}\n              metadata={{\n                is_fragments_user: true,\n              }}\n            />\n          </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAYO,SAAS,WAAW,EACzB,IAAI,EACJ,OAAO,EACP,QAAQ,EACR,IAAI,EAML;IACC,qBACE,6LAAC,8HAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,8HAAA,CAAA,gBAAa;;8BACZ,6LAAC,iLAAA,CAAA,iBAAc;;sCACb,6LAAC,8HAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,6LAAC,8HAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAInB,6LAAC;oBAAG,WAAU;;sCACZ,6LAAC,gIAAA,CAAA,UAAK;4BAAC,KAAI;4BAAY,KAAI;4BAAU,OAAO;4BAAI,QAAQ;;;;;;wBAAM;;;;;;;8BAGhE,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,sHAAA,CAAA,UAAI;wBACH,gBAAgB;wBAChB,MAAM;wBACN,WAAW;4BAAC;4BAAU;yBAAS;wBAC/B,cAAa;wBACb,kBAAkB,sIAAA,CAAA,gBAAa;wBAC/B,UAAU;4BACR,mBAAmB;wBACrB;;;;;;;;;;;;;;;;;;;;;;AAMd;KAvCgB"}},
    {"offset": {"line": 1723, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1728, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat.tsx"],"sourcesContent":["import { Message } from '@/lib/messages'\nimport { FragmentSchema } from '@/lib/schema'\nimport { ExecutionResult } from '@/lib/types'\nimport { DeepPartial } from 'ai'\nimport { LoaderIcon, Terminal, Sparkles } from 'lucide-react'\nimport { useEffect } from 'react'\n\nexport function Chat({\n  messages,\n  isLoading,\n  setCurrentPreview,\n}: {\n  messages: Message[]\n  isLoading: boolean\n  setCurrentPreview: (preview: {\n    fragment: DeepPartial<FragmentSchema> | undefined\n    result: ExecutionResult | undefined\n  }) => void\n}) {\n\n  useEffect(() => {\n    const chatContainer = document.getElementById('chat-container')\n    if (chatContainer) {\n      chatContainer.scrollTop = chatContainer.scrollHeight\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(messages)])\n\n  return (\n    <div\n      id=\"chat-container\"\n      className=\"flex flex-col pb-12 gap-2 overflow-y-auto max-h-full\"\n    >\n      {messages.length === 0 && !isLoading && (\n        <div className=\"flex items-center justify-center h-full text-muted-foreground text-lg font-serif\">\n          Start a new conversation\n        </div>\n      )}\n\n      {messages.map((message: Message, index: number) => (\n        <div\n          className={`flex flex-col px-4 shadow-sm whitespace-pre-wrap ${message.role !== 'user' ? 'bg-accent dark:bg-white/5 border text-accent-foreground dark:text-muted-foreground py-4 rounded-2xl gap-4 w-full' : 'bg-gradient-to-b from-black/5 to-black/10 dark:from-black/30 dark:to-black/50 py-2 rounded-xl gap-2 w-fit'} font-serif text-primary`}\n          key={index}\n        >\n          {message.content.map((content, id) => {\n            if (content.type === 'text') {\n              return content.text\n            }\n            if (content.type === 'image') {\n              return (\n                // eslint-disable-next-line @next/next/no-img-element\n                <img\n                  key={id}\n                  src={content.image}\n                  alt=\"fragment\"\n                  className=\"mr-2 inline-block w-12 h-12 object-cover rounded-lg bg-white mb-2\"\n                />\n              )\n            }\n          })}\n          {message.object && (\n            <div\n              onClick={() =>\n                setCurrentPreview({\n                  fragment: message.object,\n                  result: message.result,\n                })\n              }\n              className=\"py-2 pl-2 w-full md:w-max flex items-center border rounded-xl select-none hover:bg-black/5 dark:hover:bg-white/5 hover:cursor-pointer\"\n            >\n              <div className=\"rounded-[0.5rem] w-10 h-10 bg-black/5 dark:bg-white/5 self-stretch flex items-center justify-center\">\n                <Terminal strokeWidth={2} className=\"text-[#FF8800]\" />\n              </div>\n              <div className=\"pl-2 pr-4 flex flex-col\">\n                <span className=\"font-bold font-sans text-sm text-primary\">\n                  {message.object.title}\n                </span>\n                <span className=\"font-sans text-sm text-muted-foreground\">\n                  Click to see fragment\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n      ))}\n      {isLoading && (\n        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n          <LoaderIcon strokeWidth={2} className=\"animate-spin w-4 h-4\" />\n          <span>Generating...</span>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAOO,SAAS,KAAK,EACnB,QAAQ,EACR,SAAS,EACT,iBAAiB,EAQlB;;IAEC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB,SAAS,cAAc,CAAC;QAC9C,IAAI,eAAe;YACjB,cAAc,SAAS,GAAG,cAAc,YAAY;QACtD;IACF,uDAAuD;IACvD,GAAG;QAAC,KAAK,SAAS,CAAC;KAAU;IAE7B,qBACE,6LAAC;QACC,IAAG;QACH,WAAU;;YAET,SAAS,MAAM,KAAK,KAAK,CAAC,2BACzB,6LAAC;gBAAI,WAAU;0BAAmF;;;;;;YAKnG,SAAS,GAAG,CAAC,CAAC,SAAkB,sBAC/B,6LAAC;oBACC,WAAW,CAAC,iDAAiD,EAAE,QAAQ,IAAI,KAAK,SAAS,qHAAqH,4GAA4G,wBAAwB,CAAC;;wBAGlV,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS;4BAC7B,IAAI,QAAQ,IAAI,KAAK,QAAQ;gCAC3B,OAAO,QAAQ,IAAI;4BACrB;4BACA,IAAI,QAAQ,IAAI,KAAK,SAAS;gCAC5B,OACE,qDAAqD;8CACrD,6LAAC;oCAEC,KAAK,QAAQ,KAAK;oCAClB,KAAI;oCACJ,WAAU;mCAHL;;;;;4BAMX;wBACF;wBACC,QAAQ,MAAM,kBACb,6LAAC;4BACC,SAAS,IACP,kBAAkB;oCAChB,UAAU,QAAQ,MAAM;oCACxB,QAAQ,QAAQ,MAAM;gCACxB;4BAEF,WAAU;;8CAEV,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,aAAa;wCAAG,WAAU;;;;;;;;;;;8CAEtC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDACb,QAAQ,MAAM,CAAC,KAAK;;;;;;sDAEvB,6LAAC;4CAAK,WAAU;sDAA0C;;;;;;;;;;;;;;;;;;;mBAnC3D;;;;;YA2CR,2BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6MAAA,CAAA,aAAU;wBAAC,aAAa;wBAAG,WAAU;;;;;;kCACtC,6LAAC;kCAAK;;;;;;;;;;;;;;;;;;AAKhB;GAtFgB;KAAA"}},
    {"offset": {"line": 1877, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1882, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  DotFilledIcon,\n} from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <DotFilledIcon className=\"h-4 w-4 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2100, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2105, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAOA,MAAM,uBAAS,8JAAM,UAAU,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAiB,IAAI;QACpB,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,+XACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,sKAAiB,KAAK;YACrB,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,sKAAiB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 2140, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2145, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md bg-muted px-3 py-1.5 text-xs text-muted-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAOA,MAAM,kBAAkB,uKAAiB,QAAQ;AAEjD,MAAM,UAAU,uKAAiB,IAAI;AAErC,MAAM,iBAAiB,uKAAiB,OAAO;AAE/C,MAAM,+BAAiB,8JAAM,UAAU,MAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,uKAAiB,OAAO;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,iXACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,uKAAiB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 2180, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2185, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat-settings.tsx"],"sourcesContent":["import { Button } from './ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from './ui/dropdown-menu'\nimport { Input } from './ui/input'\nimport { Label } from './ui/label'\nimport { Switch } from './ui/switch'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from './ui/tooltip'\nimport { LLMModelConfig } from '@/lib/models'\nimport { Settings2 } from 'lucide-react'\n\nexport function ChatSettings({\n  apiKeyConfigurable,\n  baseURLConfigurable,\n  languageModel,\n  onLanguageModelChange,\n  useMorphApply,\n  onUseMorphApplyChange,\n}: {\n  apiKeyConfigurable: boolean\n  baseURLConfigurable: boolean\n  languageModel: LLMModelConfig\n  onLanguageModelChange: (model: LLMModelConfig) => void\n  useMorphApply?: boolean\n  onUseMorphApplyChange?: (value: boolean) => void\n}) {\n  return (\n    <DropdownMenu>\n      <TooltipProvider>\n        <Tooltip delayDuration={0}>\n          <TooltipTrigger asChild>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"text-muted-foreground h-6 w-6 rounded-sm\">\n                <Settings2 className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n          </TooltipTrigger>\n          <TooltipContent>LLM settings</TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n      <DropdownMenuContent align=\"start\">\n        {apiKeyConfigurable && (\n          <>\n            <div className=\"flex flex-col gap-2 px-2 py-2\">\n              <Label htmlFor=\"apiKey\">API Key</Label>\n              <Input\n                name=\"apiKey\"\n                type=\"password\"\n                placeholder=\"Auto\"\n                required={true}\n                defaultValue={languageModel.apiKey}\n                onChange={(e) =>\n                  onLanguageModelChange({\n                    apiKey:\n                      e.target.value.length > 0 ? e.target.value : undefined,\n                  })\n                }\n                className=\"text-sm\"\n              />\n            </div>\n            <DropdownMenuSeparator />\n          </>\n        )}\n        {baseURLConfigurable && (\n          <>\n            <div className=\"flex flex-col gap-2 px-2 py-2\">\n              <Label htmlFor=\"baseURL\">Base URL</Label>\n              <Input\n                name=\"baseURL\"\n                type=\"text\"\n                placeholder=\"Auto\"\n                required={true}\n                defaultValue={languageModel.baseURL}\n                onChange={(e) =>\n                  onLanguageModelChange({\n                    baseURL:\n                      e.target.value.length > 0 ? e.target.value : undefined,\n                  })\n                }\n                className=\"text-sm\"\n              />\n            </div>\n            <DropdownMenuSeparator />\n          </>\n        )}\n        <div className=\"flex flex-col gap-1.5 px-2 py-2\">\n          <span className=\"text-sm font-medium\">Parameters</span>\n          <div className=\"flex space-x-4 items-center\">\n            <span className=\"text-sm flex-1 text-muted-foreground\">\n              Output tokens\n            </span>\n            <Input\n              type=\"number\"\n              defaultValue={languageModel.maxTokens}\n              min={50}\n              max={10000}\n              step={1}\n              className=\"h-6 rounded-sm w-[84px] text-xs text-center tabular-nums\"\n              placeholder=\"Auto\"\n              onChange={(e) =>\n                onLanguageModelChange({\n                  maxTokens: parseFloat(e.target.value) || undefined,\n                })\n              }\n            />\n          </div>\n          <div className=\"flex space-x-4 items-center\">\n            <span className=\"text-sm flex-1 text-muted-foreground\">\n              Temperature\n            </span>\n            <Input\n              type=\"number\"\n              defaultValue={languageModel.temperature}\n              min={0}\n              max={5}\n              step={0.01}\n              className=\"h-6 rounded-sm w-[84px] text-xs text-center tabular-nums\"\n              placeholder=\"Auto\"\n              onChange={(e) =>\n                onLanguageModelChange({\n                  temperature: parseFloat(e.target.value) || undefined,\n                })\n              }\n            />\n          </div>\n          <div className=\"flex space-x-4 items-center\">\n            <span className=\"text-sm flex-1 text-muted-foreground\">Top P</span>\n            <Input\n              type=\"number\"\n              defaultValue={languageModel.topP}\n              min={0}\n              max={1}\n              step={0.01}\n              className=\"h-6 rounded-sm w-[84px] text-xs text-center tabular-nums\"\n              placeholder=\"Auto\"\n              onChange={(e) =>\n                onLanguageModelChange({\n                  topP: parseFloat(e.target.value) || undefined,\n                })\n              }\n            />\n          </div>\n          <div className=\"flex space-x-4 items-center\">\n            <span className=\"text-sm flex-1 text-muted-foreground\">Top K</span>\n            <Input\n              type=\"number\"\n              defaultValue={languageModel.topK}\n              min={0}\n              max={500}\n              step={1}\n              className=\"h-6 rounded-sm w-[84px] text-xs text-center tabular-nums\"\n              placeholder=\"Auto\"\n              onChange={(e) =>\n                onLanguageModelChange({\n                  topK: parseFloat(e.target.value) || undefined,\n                })\n              }\n            />\n          </div>\n          <div className=\"flex space-x-4 items-center\">\n            <span className=\"text-sm flex-1 text-muted-foreground\">\n              Frequence penalty\n            </span>\n            <Input\n              type=\"number\"\n              defaultValue={languageModel.frequencyPenalty}\n              min={0}\n              max={2}\n              step={0.01}\n              className=\"h-6 rounded-sm w-[84px] text-xs text-center tabular-nums\"\n              placeholder=\"Auto\"\n              onChange={(e) =>\n                onLanguageModelChange({\n                  frequencyPenalty: parseFloat(e.target.value) || undefined,\n                })\n              }\n            />\n          </div>\n          <div className=\"flex space-x-4 items-center\">\n            <span className=\"text-sm flex-1 text-muted-foreground\">\n              Presence penalty\n            </span>\n            <Input\n              type=\"number\"\n              defaultValue={languageModel.presencePenalty}\n              min={0}\n              max={2}\n              step={0.01}\n              className=\"h-6 rounded-sm w-[84px] text-xs text-center tabular-nums\"\n              placeholder=\"Auto\"\n              onChange={(e) =>\n                onLanguageModelChange({\n                  presencePenalty: parseFloat(e.target.value) || undefined,\n                })\n              }\n            />\n          </div>\n        </div>\n        {onUseMorphApplyChange && (\n          <>\n            <DropdownMenuSeparator />\n            <div className=\"flex items-center justify-between px-2 py-2\">\n              <div className=\"flex flex-col gap-0.5\">\n                <Label htmlFor=\"morph-apply\" className=\"text-sm font-medium\">\n                  Morph Apply\n                </Label>\n                <span className=\"text-xs text-muted-foreground\">\n                  Edit existing code instead of regenerating\n                </span>\n              </div>\n              <Switch\n                id=\"morph-apply\"\n                checked={useMorphApply}\n                onCheckedChange={onUseMorphApplyChange}\n              />\n            </div>\n          </>\n        )}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2629, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2634, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport {\n  CaretSortIcon,\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n} from \"@radix-ui/react-icons\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDownIcon className=\"pl-1 h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUpIcon />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDownIcon />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2835, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2840, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat-picker.tsx"],"sourcesContent":["import {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { LLMModel, LLMModelConfig } from '@/lib/models'\nimport { TemplateId, Templates } from '@/lib/templates'\nimport 'core-js/actual/object/group-by'\nimport { Sparkles } from 'lucide-react'\nimport Image from 'next/image'\n\nexport function ChatPicker({\n  templates,\n  selectedTemplate,\n  onSelectedTemplateChange,\n  models,\n  languageModel,\n  onLanguageModelChange,\n}: {\n  templates: Templates\n  selectedTemplate: 'auto' | TemplateId\n  onSelectedTemplateChange: (template: 'auto' | TemplateId) => void\n  models: LLMModel[]\n  languageModel: LLMModelConfig\n  onLanguageModelChange: (config: LLMModelConfig) => void\n}) {\n  return (\n    <div className=\"flex items-center space-x-2\">\n      <div className=\"flex flex-col\">\n        <Select\n          name=\"template\"\n          defaultValue={selectedTemplate}\n          onValueChange={onSelectedTemplateChange}\n        >\n          <SelectTrigger className=\"whitespace-nowrap border-none shadow-none focus:ring-0 px-0 py-0 h-6 text-xs bg-transparent\">\n            <SelectValue placeholder=\"Select a persona\" />\n          </SelectTrigger>\n          <SelectContent side=\"top\">\n            <SelectGroup>\n              <SelectLabel>Persona</SelectLabel>\n              <SelectItem value=\"auto\">\n                <div className=\"flex items-center space-x-2\">\n                  <Sparkles\n                    className=\"flex text-[#a1a1aa]\"\n                    width={14}\n                    height={14}\n                  />\n                  <span>Auto</span>\n                </div>\n              </SelectItem>\n              {Object.entries(templates).map(([templateId, template]) => (\n                <SelectItem key={templateId} value={templateId}>\n                  <div className=\"flex items-center space-x-2\">\n                    <Image\n                      className=\"flex\"\n                      src={`/thirdparty/templates/${templateId}.svg`}\n                      alt={templateId}\n                      width={14}\n                      height={14}\n                    />\n                    <span>{template.name}</span>\n                  </div>\n                </SelectItem>\n              ))}\n            </SelectGroup>\n          </SelectContent>\n        </Select>\n      </div>\n      <div className=\"flex flex-col\">\n        <Select\n          name=\"languageModel\"\n          value={languageModel.model}\n          onValueChange={(e) => onLanguageModelChange({ model: e })}\n        >\n          <SelectTrigger className=\"whitespace-nowrap border-none shadow-none focus:ring-0 px-0 py-0 h-6 text-xs bg-transparent\">\n            <SelectValue placeholder=\"Language model\" />\n          </SelectTrigger>\n          <SelectContent>\n            {Object.entries(\n              Object.groupBy(models, ({ provider }) => provider),\n            ).map(([provider, models]) => (\n              <SelectGroup key={provider}>\n                <SelectLabel>{provider}</SelectLabel>\n                {models?.map((model) => (\n                  <SelectItem key={model.id} value={model.id}>\n                    <div className=\"flex items-center space-x-2\">\n                      <Image\n                        className=\"flex\"\n                        src={`/thirdparty/logos/${model.providerId}.svg`}\n                        alt={model.provider}\n                        width={14}\n                        height={14}\n                      />\n                      <span>{model.name}</span>\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectGroup>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAeO,SAAS,WAAW,EACzB,SAAS,EACT,gBAAgB,EAChB,wBAAwB,EACxB,MAAM,EACN,aAAa,EACb,qBAAqB,EAQtB;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,8HAAA,CAAA,SAAM;oBACL,MAAK;oBACL,cAAc;oBACd,eAAe;;sCAEf,6LAAC,8HAAA,CAAA,gBAAa;4BAAC,WAAU;sCACvB,cAAA,6LAAC,8HAAA,CAAA,cAAW;gCAAC,aAAY;;;;;;;;;;;sCAE3B,6LAAC,8HAAA,CAAA,gBAAa;4BAAC,MAAK;sCAClB,cAAA,6LAAC,8HAAA,CAAA,cAAW;;kDACV,6LAAC,8HAAA,CAAA,cAAW;kDAAC;;;;;;kDACb,6LAAC,8HAAA,CAAA,aAAU;wCAAC,OAAM;kDAChB,cAAA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,6MAAA,CAAA,WAAQ;oDACP,WAAU;oDACV,OAAO;oDACP,QAAQ;;;;;;8DAEV,6LAAC;8DAAK;;;;;;;;;;;;;;;;;oCAGT,OAAO,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,YAAY,SAAS,iBACpD,6LAAC,8HAAA,CAAA,aAAU;4CAAkB,OAAO;sDAClC,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC,gIAAA,CAAA,UAAK;wDACJ,WAAU;wDACV,KAAK,CAAC,sBAAsB,EAAE,WAAW,IAAI,CAAC;wDAC9C,KAAK;wDACL,OAAO;wDACP,QAAQ;;;;;;kEAEV,6LAAC;kEAAM,SAAS,IAAI;;;;;;;;;;;;2CATP;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAiB3B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,8HAAA,CAAA,SAAM;oBACL,MAAK;oBACL,OAAO,cAAc,KAAK;oBAC1B,eAAe,CAAC,IAAM,sBAAsB;4BAAE,OAAO;wBAAE;;sCAEvD,6LAAC,8HAAA,CAAA,gBAAa;4BAAC,WAAU;sCACvB,cAAA,6LAAC,8HAAA,CAAA,cAAW;gCAAC,aAAY;;;;;;;;;;;sCAE3B,6LAAC,8HAAA,CAAA,gBAAa;sCACX,OAAO,OAAO,CACb,OAAO,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,GAAK,WACzC,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACvB,6LAAC,8HAAA,CAAA,cAAW;;sDACV,6LAAC,8HAAA,CAAA,cAAW;sDAAE;;;;;;wCACb,QAAQ,IAAI,CAAC,sBACZ,6LAAC,8HAAA,CAAA,aAAU;gDAAgB,OAAO,MAAM,EAAE;0DACxC,cAAA,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,gIAAA,CAAA,UAAK;4DACJ,WAAU;4DACV,KAAK,CAAC,kBAAkB,EAAE,MAAM,UAAU,CAAC,IAAI,CAAC;4DAChD,KAAK,MAAM,QAAQ;4DACnB,OAAO;4DACP,QAAQ;;;;;;sEAEV,6LAAC;sEAAM,MAAM,IAAI;;;;;;;;;;;;+CATJ,MAAM,EAAE;;;;;;mCAHX;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBhC;KA7FgB"}},
    {"offset": {"line": 3077, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3082, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/slash-commands.ts"],"sourcesContent":["export interface SlashCommand {\n  command: string\n  description: string\n  icon?: string\n  category?: string\n  handler?: (args: string) => void\n}\n\nexport const slashCommands: SlashCommand[] = [\n  {\n    command: '/edit',\n    description: 'Edit the current code or file',\n    category: 'Code',\n    icon: '✏️'\n  },\n  {\n    command: '/fix',\n    description: 'Fix errors or bugs in the code',\n    category: 'Code',\n    icon: '🔧'\n  },\n  {\n    command: '/apply',\n    description: 'Apply changes or suggestions',\n    category: 'Code',\n    icon: '✅'\n  },\n  {\n    command: '/explain',\n    description: 'Explain the selected code',\n    category: 'Code',\n    icon: '💡'\n  },\n  {\n    command: '/refactor',\n    description: 'Refactor the selected code',\n    category: 'Code',\n    icon: '♻️'\n  },\n  {\n    command: '/optimize',\n    description: 'Optimize code performance',\n    category: 'Code',\n    icon: '⚡'\n  },\n  {\n    command: '/test',\n    description: 'Generate tests for the code',\n    category: 'Testing',\n    icon: '🧪'\n  },\n  {\n    command: '/document',\n    description: 'Generate documentation',\n    category: 'Documentation',\n    icon: '📝'\n  },\n  {\n    command: '/review',\n    description: 'Review code for issues',\n    category: 'Code',\n    icon: '👀'\n  },\n  {\n    command: '/help',\n    description: 'Show available commands',\n    category: 'System',\n    icon: '❓'\n  }\n]\n\nexport function getMatchingCommands(input: string): SlashCommand[] {\n  if (!input.startsWith('/')) return []\n\n  const query = input.toLowerCase()\n  return slashCommands.filter(cmd =>\n    cmd.command.toLowerCase().startsWith(query)\n  )\n}\n\nexport function isSlashCommand(input: string): boolean {\n  return input.trim().startsWith('/')\n}\n\nexport function extractCommand(input: string): { command: string; args: string } | null {\n  if (!input.startsWith('/')) return null\n\n  const parts = input.trim().split(/\\s+/)\n  const command = parts[0]\n  const args = parts.slice(1).join(' ')\n\n  return { command, args }\n}\n"],"names":[],"mappings":";;;;;;AAQO,MAAM,gBAAgC;IAC3C;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;IACA;QACE,SAAS;QACT,aAAa;QACb,UAAU;QACV,MAAM;IACR;CACD;AAEM,SAAS,oBAAoB,KAAa;IAC/C,IAAI,CAAC,MAAM,UAAU,CAAC,MAAM,OAAO,EAAE;IAErC,MAAM,QAAQ,MAAM,WAAW;IAC/B,OAAO,cAAc,MAAM,CAAC,CAAA,MAC1B,IAAI,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC;AAEzC;AAEO,SAAS,eAAe,KAAa;IAC1C,OAAO,MAAM,IAAI,GAAG,UAAU,CAAC;AACjC;AAEO,SAAS,eAAe,KAAa;IAC1C,IAAI,CAAC,MAAM,UAAU,CAAC,MAAM,OAAO;IAEnC,MAAM,QAAQ,MAAM,IAAI,GAAG,KAAK,CAAC;IACjC,MAAM,UAAU,KAAK,CAAC,EAAE;IACxB,MAAM,OAAO,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;IAEjC,OAAO;QAAE;QAAS;IAAK;AACzB"}},
    {"offset": {"line": 3168, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/slash-command-menu.tsx"],"sourcesContent":["import React from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { SlashCommand } from '@/lib/slash-commands'\nimport { Command } from 'lucide-react'\n\ninterface SlashCommandMenuProps {\n  commands: SlashCommand[]\n  selectedIndex: number\n  onSelect: (command: SlashCommand) => void\n  position?: { top: number; left: number }\n}\n\nexport function SlashCommandMenu({\n  commands,\n  selectedIndex,\n  onSelect,\n  position = { top: 0, left: 0 }\n}: SlashCommandMenuProps) {\n  if (commands.length === 0) return null\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0, y: -10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: -10 }}\n        transition={{ duration: 0.15 }}\n        className=\"absolute z-50 w-72 bg-background border border-border rounded-xl shadow-lg overflow-hidden\"\n        style={{\n          bottom: position.top + 8,\n          left: position.left,\n        }}\n      >\n        <div className=\"p-2 border-b border-border flex items-center gap-2 bg-muted/30\">\n          <Command className=\"w-4 h-4 text-muted-foreground\" />\n          <span className=\"text-xs font-medium text-muted-foreground\">\n            Slash Commands\n          </span>\n        </div>\n        <div className=\"max-h-64 overflow-y-auto\">\n          {commands.map((cmd, index) => (\n            <button\n              key={cmd.command}\n              onClick={() => onSelect(cmd)}\n              className={`w-full px-3 py-2 flex items-center gap-3 text-left transition-colors ${\n                index === selectedIndex\n                  ? 'bg-primary/10 text-primary'\n                  : 'hover:bg-primary/5 dark:hover:bg-muted/50 text-foreground'\n              }`}\n            >\n              <span className=\"text-lg\">{cmd.icon}</span>\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"font-medium text-sm\">{cmd.command}</div>\n                <div className=\"text-xs text-muted-foreground truncate\">\n                  {cmd.description}\n                </div>\n              </div>\n              {cmd.category && (\n                <span className=\"text-xs px-2 py-0.5 rounded-full bg-muted text-muted-foreground\">\n                  {cmd.category}\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n        <div className=\"p-2 border-t border-border bg-muted/30\">\n          <div className=\"text-xs text-muted-foreground flex items-center justify-between\">\n            <span>↑↓ Navigate</span>\n            <span>↵ Select</span>\n            <span>Esc Close</span>\n          </div>\n        </div>\n      </motion.div>\n    </AnimatePresence>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAYO,SAAS,iBAAiB,EAC/B,QAAQ,EACR,aAAa,EACb,QAAQ,EACR,WAAW;IAAE,KAAK;IAAG,MAAM;AAAE,CAAC,EACR;IACtB,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;IAElC,qBACE,6LAAC,4LAAA,CAAA,kBAAe;kBACd,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG,CAAC;YAAG;YAC9B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;YAAG;YAC3B,YAAY;gBAAE,UAAU;YAAK;YAC7B,WAAU;YACV,OAAO;gBACL,QAAQ,SAAS,GAAG,GAAG;gBACvB,MAAM,SAAS,IAAI;YACrB;;8BAEA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,2MAAA,CAAA,UAAO;4BAAC,WAAU;;;;;;sCACnB,6LAAC;4BAAK,WAAU;sCAA4C;;;;;;;;;;;;8BAI9D,6LAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,KAAK,sBAClB,6LAAC;4BAEC,SAAS,IAAM,SAAS;4BACxB,WAAW,CAAC,qEAAqE,EAC/E,UAAU,gBACN,+BACA,4DACL,CAAC;;8CAEF,6LAAC;oCAAK,WAAU;8CAAW,IAAI,IAAI;;;;;;8CACnC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDAAuB,IAAI,OAAO;;;;;;sDACjD,6LAAC;4CAAI,WAAU;sDACZ,IAAI,WAAW;;;;;;;;;;;;gCAGnB,IAAI,QAAQ,kBACX,6LAAC;oCAAK,WAAU;8CACb,IAAI,QAAQ;;;;;;;2BAjBZ,IAAI,OAAO;;;;;;;;;;8BAuBtB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;0CAAK;;;;;;0CACN,6LAAC;0CAAK;;;;;;0CACN,6LAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;KA/DgB"}},
    {"offset": {"line": 3346, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3351, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/ai-prompt-box.tsx"],"sourcesContent":["import React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { ArrowUp, Paperclip, Square, X, StopCircle, Mic, Globe, BrainCog, FolderCog } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport Image from \"next/image\";\nimport { ChatSettings } from '../chat-settings'\nimport { ChatPicker } from '../chat-picker'\nimport { LLMModel, LLMModelConfig } from '@/lib/models'\nimport { TemplateId, Templates } from '@/lib/templates'\nimport { getMatchingCommands, isSlashCommand, extractCommand, SlashCommand } from '@/lib/slash-commands'\nimport { SlashCommandMenu } from '../slash-command-menu'\n\nconst cn = (...classes: (string | undefined | null | false)[]) => classes.filter(Boolean).join(\" \");\n\nconst styles = `\n  *:focus-visible {\n    outline-offset: 0 !important;\n    --ring-offset: 0 !important;\n  }\n  textarea::-webkit-scrollbar {\n    width: 6px;\n  }\n  textarea::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  textarea::-webkit-scrollbar-thumb {\n    background-color: #444444;\n    border-radius: 3px;\n  }\n  textarea::-webkit-scrollbar-thumb:hover {\n    background-color: #555555;\n  }\n`;\n\n// Textarea Component\ninterface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  className?: string;\n}\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => (\n  <textarea\n    className={cn(\n      \"flex w-full rounded-md border-none bg-transparent px-3 py-2.5 text-base text-primary placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50 min-h-[44px] resize-none scrollbar-thin scrollbar-thumb-muted-foreground/50 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground\",\n      className\n    )}\n    ref={ref}\n    rows={1}\n    {...props}\n  />\n));\nTextarea.displayName = \"Textarea\";\n\n// Tooltip Components\nconst TooltipProvider = TooltipPrimitive.Provider;\nconst Tooltip = TooltipPrimitive.Root;\nconst TooltipTrigger = TooltipPrimitive.Trigger;\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\n// Dialog Components\nconst Dialog = DialogPrimitive.Root;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-[90vw] md:max-w-[800px] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-0 shadow-xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 rounded-2xl\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 z-10 rounded-full bg-muted/80 p-2 hover:bg-primary/10 dark:hover:bg-muted transition-all\">\n        <X className=\"h-5 w-5 text-muted-foreground hover:text-primary\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight text-primary\", className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\n// Button Component\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"outline\" | \"ghost\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n}\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", ...props }, ref) => {\n    const variantClasses = {\n      default: \"bg-primary hover:bg-primary/80 text-primary-foreground\",\n      outline: \"border bg-transparent hover:bg-primary/5 dark:hover:bg-muted\",\n      ghost: \"bg-transparent hover:bg-primary/5 dark:hover:bg-muted\",\n    };\n    const sizeClasses = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-8 px-3 text-sm\",\n      lg: \"h-12 px-6\",\n      icon: \"h-8 w-8 rounded-full aspect-[1/1]\",\n    };\n    return (\n      <button\n        className={cn(\n          \"inline-flex items-center justify-center font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50\",\n          variantClasses[variant],\n          sizeClasses[size],\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\n// VoiceRecorder Component\ninterface VoiceRecorderProps {\n  isRecording: boolean;\n  onStartRecording: () => void;\n  onStopRecording: (duration: number) => void;\n  visualizerBars?: number;\n}\nconst VoiceRecorder: React.FC<VoiceRecorderProps> = ({\n  isRecording,\n  onStartRecording,\n  onStopRecording,\n  visualizerBars = 32,\n}) => {\n  const [time, setTime] = React.useState(0);\n  const timerRef = React.useRef<NodeJS.Timeout | null>(null);\n\n  React.useEffect(() => {\n    if (isRecording) {\n      onStartRecording();\n      timerRef.current = setInterval(() => setTime((t) => t + 1), 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setTime(currentTime => {\n        if (currentTime > 0) {\n          onStopRecording(currentTime);\n        }\n        return 0;\n      });\n    }\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [isRecording, onStartRecording, onStopRecording]);\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n  };\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-col items-center justify-center w-full transition-all duration-300 py-3\",\n        isRecording ? \"opacity-100\" : \"opacity-0 h-0\"\n      )}\n    >\n      <div className=\"flex items-center gap-2 mb-3\">\n        <div className=\"h-2 w-2 rounded-full bg-red-500 animate-pulse\" />\n        <span className=\"font-mono text-sm text-white/80\">{formatTime(time)}</span>\n      </div>\n      <div className=\"w-full h-10 flex items-center justify-center gap-0.5 px-4\">\n        {[...Array(visualizerBars)].map((_, i) => (\n          <div\n            key={i}\n            className=\"w-0.5 rounded-full bg-white/50 animate-pulse\"\n            style={{\n              height: `${Math.max(15, Math.random() * 100)}%`,\n              animationDelay: `${i * 0.05}s`,\n              animationDuration: `${0.5 + Math.random() * 0.5}s`,\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// ImageViewDialog Component\ninterface ImageViewDialogProps {\n  imageUrl: string | null;\n  onClose: () => void;\n}\nconst ImageViewDialog: React.FC<ImageViewDialogProps> = ({ imageUrl, onClose }) => {\n  if (!imageUrl) return null;\n  return (\n    <Dialog open={!!imageUrl} onOpenChange={onClose}>\n      <DialogContent className=\"p-0 border-none bg-transparent shadow-none max-w-[90vw] md:max-w-[800px]\">\n        <DialogTitle className=\"sr-only\">Image Preview</DialogTitle>\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.95 }}\n          transition={{ duration: 0.2, ease: \"easeOut\" }}\n          className=\"relative bg-background rounded-2xl overflow-hidden shadow-2xl\"\n        >\n          <Image\n            src={imageUrl}\n            alt=\"Full preview\"\n            fill\n            className=\"object-contain rounded-2xl\"\n            sizes=\"(max-width: 768px) 95vw, (max-width: 1200px) 80vw, 70vw\"\n          />\n        </motion.div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\n// PromptInput Context and Components\ninterface PromptInputContextType {\n  isLoading: boolean;\n  value: string;\n  setValue: (value: string) => void;\n  maxHeight: number | string;\n  onSubmit?: () => void;\n  disabled?: boolean;\n}\nconst PromptInputContext = React.createContext<PromptInputContextType>({\n  isLoading: false,\n  value: \"\",\n  setValue: () => {},\n  maxHeight: 240,\n  onSubmit: undefined,\n  disabled: false,\n});\nfunction usePromptInput() {\n  const context = React.useContext(PromptInputContext);\n  if (!context) throw new Error(\"usePromptInput must be used within a PromptInput\");\n  return context;\n}\n\ninterface PromptInputProps {\n  isLoading?: boolean;\n  value?: string;\n  onValueChange?: (value: string) => void;\n  maxHeight?: number | string;\n  onSubmit?: () => void;\n  children: React.ReactNode;\n  className?: string;\n  disabled?: boolean;\n  onDragOver?: (e: React.DragEvent) => void;\n  onDragLeave?: (e: React.DragEvent) => void;\n  onDrop?: (e: React.DragEvent) => void;\n}\nconst PromptInput = React.forwardRef<HTMLDivElement, PromptInputProps>(\n  (\n    {\n      className,\n      isLoading = false,\n      maxHeight = 240,\n      value,\n      onValueChange,\n      onSubmit,\n      children,\n      disabled = false,\n      onDragOver,\n      onDragLeave,\n      onDrop,\n    },\n    ref\n  ) => {\n    const [internalValue, setInternalValue] = React.useState(value || \"\");\n    const handleChange = (newValue: string) => {\n      setInternalValue(newValue);\n      onValueChange?.(newValue);\n    };\n    return (\n      <TooltipProvider>\n        <PromptInputContext.Provider\n          value={{\n            isLoading,\n            value: value ?? internalValue,\n            setValue: onValueChange ?? handleChange,\n            maxHeight,\n            onSubmit,\n            disabled,\n          }}\n        >\n          <div\n            ref={ref}\n            className={cn(\n              \"rounded-3xl border bg-background p-2 shadow-[0_8px_30px_rgba(0,0,0,0.24)] transition-all duration-300 mb-8\",\n              isLoading && \"border-red-500/70\",\n              className\n            )}\n            onDragOver={onDragOver}\n            onDragLeave={onDragLeave}\n            onDrop={onDrop}\n          >\n            {children}\n          </div>\n        </PromptInputContext.Provider>\n      </TooltipProvider>\n    );\n  }\n);\nPromptInput.displayName = \"PromptInput\";\n\ninterface PromptInputTextareaProps {\n  disableAutosize?: boolean;\n  placeholder?: string;\n  showSlashCommands?: boolean;\n  matchingCommandsCount?: number;\n  selectedCommandIndex?: number;\n  onCommandNavigate?: (direction: 'up' | 'down') => void;\n  onCommandSelect?: () => void;\n  onCommandCancel?: () => void;\n}\nconst PromptInputTextarea: React.FC<PromptInputTextareaProps & React.ComponentProps<typeof Textarea>> = ({\n  className,\n  onKeyDown,\n  disableAutosize = false,\n  placeholder,\n  showSlashCommands = false,\n  matchingCommandsCount = 0,\n  selectedCommandIndex = 0,\n  onCommandNavigate,\n  onCommandSelect,\n  onCommandCancel,\n  ...props\n}) => {\n  const { value, setValue, maxHeight, onSubmit, disabled } = usePromptInput();\n  const textareaRef = React.useRef<HTMLTextAreaElement>(null);\n\n  React.useEffect(() => {\n    if (disableAutosize || !textareaRef.current) return;\n    textareaRef.current.style.height = \"auto\";\n    textareaRef.current.style.height =\n      typeof maxHeight === \"number\"\n        ? `${Math.min(textareaRef.current.scrollHeight, maxHeight)}px`\n        : `min(${textareaRef.current.scrollHeight}px, ${maxHeight})`;\n  }, [value, maxHeight, disableAutosize]);\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (showSlashCommands) {\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        onCommandNavigate?.('down');\n        return;\n      }\n      if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        onCommandNavigate?.('up');\n        return;\n      }\n      if (e.key === 'Enter' && !e.shiftKey) {\n        e.preventDefault();\n        onCommandSelect?.();\n        return;\n      }\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        onCommandCancel?.();\n        return;\n      }\n    }\n\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      onSubmit?.();\n    }\n    onKeyDown?.(e);\n  };\n\n  return (\n    <Textarea\n      ref={textareaRef}\n      value={value}\n      onChange={(e) => setValue(e.target.value)}\n      onKeyDown={handleKeyDown}\n      className={cn(\"text-base\", className)}\n      disabled={disabled}\n      placeholder={placeholder}\n      {...props}\n    />\n  );\n};\n\ninterface PromptInputActionsProps extends React.HTMLAttributes<HTMLDivElement> {}\nconst PromptInputActions: React.FC<PromptInputActionsProps> = ({ children, className, ...props }) => (\n  <div className={cn(\"flex items-center gap-2\", className)} {...props}>\n    {children}\n  </div>\n);\n\ninterface PromptInputActionProps extends React.ComponentProps<typeof Tooltip> {\n  tooltip: React.ReactNode;\n  children: React.ReactNode;\n  side?: \"top\" | \"bottom\" | \"left\" | \"right\";\n  className?: string;\n}\nconst PromptInputAction: React.FC<PromptInputActionProps> = ({\n  tooltip,\n  children,\n  side = \"top\",\n  className,\n  ...props\n}) => {\n  const { disabled } = usePromptInput();\n  return (\n    <Tooltip {...props}>\n      <TooltipTrigger asChild disabled={disabled}>\n        {children}\n      </TooltipTrigger>\n      <TooltipContent side={side} className={className}>\n        {tooltip}\n      </TooltipContent>\n    </Tooltip>\n  );\n};\n\n// Custom Divider Component\nconst CustomDivider: React.FC = () => (\n  <div className=\"relative h-6 w-[1.5px] mx-1\">\n    <div\n      className=\"absolute inset-0 bg-gradient-to-t from-transparent via-[#9b87f5]/70 to-transparent rounded-full\"\n      style={{\n        clipPath: \"polygon(0% 0%, 100% 0%, 100% 40%, 140% 50%, 100% 60%, 100% 100%, 0% 100%, 0% 60%, -40% 50%, 0% 40%)\",\n      }}\n    />\n  </div>\n);\n\n// Main PromptInputBox Component\ninterface PromptInputBoxProps {\n  onSend?: (message: string, files?: File[]) => void;\n  isLoading?: boolean;\n  placeholder?: string;\n  className?: string;\n  templates: Templates\n  selectedTemplate: 'auto' | TemplateId\n  onSelectedTemplateChange: (template: 'auto' | TemplateId) => void\n  models: LLMModel[]\n  languageModel: LLMModelConfig\n  onLanguageModelChange: (config: LLMModelConfig) => void\n  apiKeyConfigurable: boolean\n  baseURLConfigurable: boolean\n  useMorphApply?: boolean\n  onUseMorphApplyChange?: (value: boolean) => void\n}\nexport const PromptInputBox = React.forwardRef((props: PromptInputBoxProps, ref: React.Ref<HTMLDivElement>) => {\n  React.useEffect(() => {\n    const styleSheet = document.createElement(\"style\");\n    styleSheet.innerText = styles;\n    document.head.appendChild(styleSheet);\n    return () => {\n      document.head.removeChild(styleSheet);\n    };\n  }, []);\n  const { onSend = () => {}, isLoading = false, placeholder = \"Type your message here...\", className, templates, selectedTemplate, onSelectedTemplateChange, models, languageModel, onLanguageModelChange, apiKeyConfigurable, baseURLConfigurable, useMorphApply, onUseMorphApplyChange } = props;\n  const [input, setInput] = React.useState(\"\");\n  const [files, setFiles] = React.useState<File[]>([]);\n  const [filePreviews, setFilePreviews] = React.useState<{ [key: string]: string }>({});\n  const [selectedImage, setSelectedImage] = React.useState<string | null>(null);\n  const [isRecording, setIsRecording] = React.useState(false);\n  const [showSearch, setShowSearch] = React.useState(false);\n  const [showThink, setShowThink] = React.useState(false);\n  const [showCanvas, setShowCanvas] = React.useState(false);\n  const uploadInputRef = React.useRef<HTMLInputElement>(null);\n  const promptBoxRef = React.useRef<HTMLDivElement>(null);\n  const [showSlashCommands, setShowSlashCommands] = React.useState(false);\n  const [matchingCommands, setMatchingCommands] = React.useState<SlashCommand[]>([]);\n  const [selectedCommandIndex, setSelectedCommandIndex] = React.useState(0);\n\n  const handleToggleChange = (value: string) => {\n    if (value === \"search\") {\n      setShowSearch((prev) => !prev);\n      setShowThink(false);\n    } else if (value === \"think\") {\n      setShowThink((prev) => !prev);\n      setShowSearch(false);\n    }\n  };\n\n  const handleCanvasToggle = () => setShowCanvas(prev => !prev);\n\n  const isImageFile = (file: File) => file.type.startsWith(\"image/\");\n\n  const processFile = React.useCallback((file: File) => {\n    if (!isImageFile(file)) {\n      console.log(\"Only image files are allowed\");\n      return;\n    }\n    if (file.size > 10 * 1024 * 1024) {\n      console.log(\"File too large (max 10MB)\");\n      return;\n    }\n    setFiles([file]);\n    const reader = new FileReader();\n    reader.onload = (e) => setFilePreviews({ [file.name]: e.target?.result as string });\n    reader.readAsDataURL(file);\n  }, []);\n\n  const handleDragOver = React.useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDragLeave = React.useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = React.useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const files = Array.from(e.dataTransfer.files);\n    const imageFiles = files.filter((file) => isImageFile(file));\n    if (imageFiles.length > 0) processFile(imageFiles[0]);\n  }, [processFile]);\n\n  const handleRemoveFile = (index: number) => {\n    const fileToRemove = files[index];\n    if (fileToRemove && filePreviews[fileToRemove.name]) setFilePreviews({});\n    setFiles([]);\n  };\n\n  const openImageModal = (imageUrl: string) => setSelectedImage(imageUrl);\n\n  const handlePaste = React.useCallback((e: ClipboardEvent) => {\n    const items = e.clipboardData?.items;\n    if (!items) return;\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].type.indexOf(\"image\") !== -1) {\n        const file = items[i].getAsFile();\n        if (file) {\n          e.preventDefault();\n          processFile(file);\n          break;\n        }\n      }\n    }\n  }, [processFile]);\n\n  React.useEffect(() => {\n    document.addEventListener(\"paste\", handlePaste);\n    return () => document.removeEventListener(\"paste\", handlePaste);\n  }, [handlePaste]);\n\n  const handleSubmit = () => {\n    if (input.trim() || files.length > 0) {\n      let messagePrefix = \"\";\n      if (showSearch) messagePrefix = \"[Search: \";\n      else if (showThink) messagePrefix = \"[Think: \";\n      else if (showCanvas) messagePrefix = \"[Canvas: \";\n      const formattedInput = messagePrefix ? `${messagePrefix}${input}]` : input;\n      onSend(formattedInput, files);\n      setInput(\"\");\n      setFiles([]);\n      setFilePreviews({});\n      setShowSlashCommands(false);\n      setMatchingCommands([]);\n      setSelectedCommandIndex(0);\n    }\n  };\n\n  const handleCommandSelect = (command: SlashCommand) => {\n    setInput(command.command + ' ');\n    setShowSlashCommands(false);\n    setMatchingCommands([]);\n    setSelectedCommandIndex(0);\n  };\n\n  const handleCommandNavigate = (direction: 'up' | 'down') => {\n    if (matchingCommands.length === 0) return;\n\n    setSelectedCommandIndex(prevIndex => {\n      if (direction === 'down') {\n        return (prevIndex + 1) % matchingCommands.length;\n      } else {\n        return prevIndex === 0 ? matchingCommands.length - 1 : prevIndex - 1;\n      }\n    });\n  };\n\n  const handleSelectCurrentCommand = () => {\n    if (matchingCommands.length > 0) {\n      handleCommandSelect(matchingCommands[selectedCommandIndex]);\n    }\n  };\n\n  const handleCancelCommands = () => {\n    setShowSlashCommands(false);\n    setMatchingCommands([]);\n    setSelectedCommandIndex(0);\n  };\n\n  React.useEffect(() => {\n    if (isSlashCommand(input)) {\n      const commands = getMatchingCommands(input);\n      setMatchingCommands(commands);\n      setShowSlashCommands(commands.length > 0);\n      setSelectedCommandIndex(0);\n    } else {\n      setShowSlashCommands(false);\n      setMatchingCommands([]);\n      setSelectedCommandIndex(0);\n    }\n  }, [input]);\n\n  const handleStartRecording = () => console.log(\"Started recording\");\n\n  const handleStopRecording = (duration: number) => {\n    console.log(`Stopped recording after ${duration} seconds`);\n    setIsRecording(false);\n    onSend(`[Voice message - ${duration} seconds]`, []);\n  };\n\n  const hasContent = input.trim() !== \"\" || files.length > 0;\n\n  return (\n    <>\n      <PromptInput\n        value={input}\n        onValueChange={setInput}\n        isLoading={isLoading}\n        onSubmit={handleSubmit}\n        className={cn(\n          \"w-full bg-background border shadow-[0_8px_30px_rgba(0,0,0,0.24)] transition-all duration-300 ease-in-out\",\n          isRecording && \"border-red-500/70\",\n          className\n        )}\n        disabled={isLoading || isRecording}\n        ref={ref || promptBoxRef}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        <div className=\"flex items-center gap-2\">\n          <ChatPicker\n            templates={templates}\n            selectedTemplate={selectedTemplate}\n            onSelectedTemplateChange={onSelectedTemplateChange}\n            models={models}\n            languageModel={languageModel}\n            onLanguageModelChange={onLanguageModelChange}\n          />\n          <ChatSettings\n            apiKeyConfigurable={apiKeyConfigurable}\n            baseURLConfigurable={baseURLConfigurable}\n            languageModel={languageModel}\n            onLanguageModelChange={onLanguageModelChange}\n            useMorphApply={useMorphApply}\n            onUseMorphApplyChange={onUseMorphApplyChange}\n          />\n        </div>\n        {files.length > 0 && !isRecording && (\n          <div className=\"flex flex-wrap gap-2 p-0 pb-1 transition-all duration-300\">\n            {files.map((file, index) => (\n              <div key={index} className=\"relative group\">\n                {file.type.startsWith(\"image/\") && filePreviews[file.name] && (\n                  <div\n                    className=\"relative w-16 h-16 rounded-xl overflow-hidden cursor-pointer transition-all duration-300\"\n                    onClick={() => openImageModal(filePreviews[file.name])}\n                  >\n                    <Image\n                      src={filePreviews[file.name]}\n                      alt={file.name}\n                      fill\n                      className=\"object-cover\"\n                      sizes=\"64px\"\n                    />\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRemoveFile(index);\n                      }}\n                      className=\"absolute top-1 right-1 rounded-full bg-black/70 p-0.5 opacity-100 transition-opacity\"\n                    >\n                      <X className=\"h-3 w-3 text-white\" />\n                    </button>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n\n        <div\n          className={cn(\n            \"transition-all duration-300 relative\",\n            isRecording ? \"h-0 overflow-hidden opacity-0\" : \"opacity-100\"\n          )}\n        >\n          <PromptInputTextarea\n            placeholder={\n              showSearch\n                ? \"Search the web...\"\n                : showThink\n                ? \"Think deeply...\"\n                : showCanvas\n                ? \"Create on canvas...\"\n                : placeholder\n            }\n            className=\"text-base\"\n            showSlashCommands={showSlashCommands}\n            matchingCommandsCount={matchingCommands.length}\n            selectedCommandIndex={selectedCommandIndex}\n            onCommandNavigate={handleCommandNavigate}\n            onCommandSelect={handleSelectCurrentCommand}\n            onCommandCancel={handleCancelCommands}\n          />\n          {showSlashCommands && (\n            <SlashCommandMenu\n              commands={matchingCommands}\n              selectedIndex={selectedCommandIndex}\n              onSelect={handleCommandSelect}\n              position={{ top: 0, left: 0 }}\n            />\n          )}\n        </div>\n\n        {isRecording && (\n          <VoiceRecorder\n            isRecording={isRecording}\n            onStartRecording={handleStartRecording}\n            onStopRecording={handleStopRecording}\n          />\n        )}\n\n        <PromptInputActions className=\"flex items-center justify-between gap-2 p-0 pt-2\">\n          <div\n            className={cn(\n              \"flex items-center gap-1 transition-opacity duration-300\",\n              isRecording ? \"opacity-0 invisible h-0\" : \"opacity-100 visible\"\n            )}\n          >\n            <PromptInputAction tooltip=\"Upload image\">\n              <button\n                onClick={() => uploadInputRef.current?.click()}\n                className=\"flex h-8 w-8 text-muted-foreground cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-primary/5 dark:hover:bg-muted/30 hover:text-primary\"\n                disabled={isRecording}\n              >\n                <Paperclip className=\"h-5 w-5 transition-colors\" />\n                <input\n                  ref={uploadInputRef}\n                  type=\"file\"\n                  className=\"hidden\"\n                  onChange={(e) => {\n                    if (e.target.files && e.target.files.length > 0) processFile(e.target.files[0]);\n                    if (e.target) e.target.value = \"\";\n                  }}\n                  accept=\"image/*\"\n                />\n              </button>\n            </PromptInputAction>\n\n            <div className=\"flex items-center\">\n              <button\n                type=\"button\"\n                onClick={() => handleToggleChange(\"search\")}\n                className={cn(\n                  \"rounded-full transition-all flex items-center gap-1 px-2 py-1 border h-8\",\n                  showSearch\n                    ? \"bg-[#1EAEDB]/15 border-[#1EAEDB] text-[#1EAEDB]\"\n                    : \"bg-transparent border-transparent text-muted-foreground hover:text-primary\"\n                )}\n              >\n                <div className=\"w-5 h-5 flex items-center justify-center flex-shrink-0\">\n                  <motion.div\n                    animate={{ rotate: showSearch ? 360 : 0, scale: showSearch ? 1.1 : 1 }}\n                    whileHover={{ rotate: showSearch ? 360 : 15, scale: 1.1, transition: { type: \"spring\", stiffness: 300, damping: 10 } }}\n                    transition={{ type: \"spring\", stiffness: 260, damping: 25 }}\n                  >\n                    <Globe className={cn(\"w-4 h-4\", showSearch ? \"text-[#1EAEDB]\" : \"text-inherit\")} />\n                  </motion.div>\n                </div>\n                <AnimatePresence>\n                  {showSearch && (\n                    <motion.span\n                      initial={{ width: 0, opacity: 0 }}\n                      animate={{ width: \"auto\", opacity: 1 }}\n                      exit={{ width: 0, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"text-xs overflow-hidden whitespace-nowrap text-[#1EAEDB] flex-shrink-0\"\n                    >\n                      Search\n                    </motion.span>\n                  )}\n                </AnimatePresence>\n              </button>\n\n              <CustomDivider />\n\n              <button\n                type=\"button\"\n                onClick={() => handleToggleChange(\"think\")}\n                className={cn(\n                  \"rounded-full transition-all flex items-center gap-1 px-2 py-1 border h-8\",\n                  showThink\n                    ? \"bg-[#8B5CF6]/15 border-[#8B5CF6] text-[#8B5CF6]\"\n                    : \"bg-transparent border-transparent text-muted-foreground hover:text-primary\"\n                )}\n              >\n                <div className=\"w-5 h-5 flex items-center justify-center flex-shrink-0\">\n                  <motion.div\n                    animate={{ rotate: showThink ? 360 : 0, scale: showThink ? 1.1 : 1 }}\n                    whileHover={{ rotate: showThink ? 360 : 15, scale: 1.1, transition: { type: \"spring\", stiffness: 300, damping: 10 } }}\n                    transition={{ type: \"spring\", stiffness: 260, damping: 25 }}\n                  >\n                    <BrainCog className={cn(\"w-4 h-4\", showThink ? \"text-[#8B5CF6]\" : \"text-inherit\")} />\n                  </motion.div>\n                </div>\n                <AnimatePresence>\n                  {showThink && (\n                    <motion.span\n                      initial={{ width: 0, opacity: 0 }}\n                      animate={{ width: \"auto\", opacity: 1 }}\n                      exit={{ width: 0, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"text-xs overflow-hidden whitespace-nowrap text-[#8B5CF6] flex-shrink-0\"\n                    >\n                      Think\n                    </motion.span>\n                  )}\n                </AnimatePresence>\n              </button>\n\n              <CustomDivider />\n\n              <button\n                type=\"button\"\n                onClick={handleCanvasToggle}\n                className={cn(\n                  \"rounded-full transition-all flex items-center gap-1 px-2 py-1 border h-8\",\n                  showCanvas\n                    ? \"bg-[#F97316]/15 border-[#F97316] text-[#F97316]\"\n                    : \"bg-transparent border-transparent text-muted-foreground hover:text-primary\"\n                )}\n              >\n                <div className=\"w-5 h-5 flex items-center justify-center flex-shrink-0\">\n                  <motion.div\n                    animate={{ rotate: showCanvas ? 360 : 0, scale: showCanvas ? 1.1 : 1 }}\n                    whileHover={{ rotate: showCanvas ? 360 : 15, scale: 1.1, transition: { type: \"spring\", stiffness: 300, damping: 10 } }}\n                    transition={{ type: \"spring\", stiffness: 260, damping: 25 }}\n                  >\n                    <FolderCog className={cn(\"w-4 h-4\", showCanvas ? \"text-[#F97316]\" : \"text-inherit\")} />\n                  </motion.div>\n                </div>\n                <AnimatePresence>\n                  {showCanvas && (\n                    <motion.span\n                      initial={{ width: 0, opacity: 0 }}\n                      animate={{ width: \"auto\", opacity: 1 }}\n                      exit={{ width: 0, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"text-xs overflow-hidden whitespace-nowrap text-[#F97316] flex-shrink-0\"\n                    >\n                      Canvas\n                    </motion.span>\n                  )}\n                </AnimatePresence>\n              </button>\n            </div>\n          </div>\n\n          <PromptInputAction\n            tooltip={\n              isLoading\n                ? \"Stop generation\"\n                : isRecording\n                ? \"Stop recording\"\n                : hasContent\n                ? \"Send message\"\n                : \"Voice message\"\n            }\n          >\n            <Button\n              variant=\"default\"\n              size=\"icon\"\n              className={cn(\n                \"h-8 w-8 rounded-full transition-all duration-200\",\n                isRecording\n                  ? \"bg-transparent hover:bg-red-50 dark:hover:bg-muted/30 text-red-500 hover:text-red-400\"\n                  : hasContent\n                  ? \"bg-primary hover:bg-primary/80 text-primary-foreground\"\n                  : \"bg-transparent hover:bg-primary/5 dark:hover:bg-muted/30 text-muted-foreground hover:text-primary\"\n              )}\n              onClick={() => {\n                if (isRecording) setIsRecording(false);\n                else if (hasContent) handleSubmit();\n                else setIsRecording(true);\n              }}\n              disabled={isLoading && !hasContent}\n            >\n              {isLoading ? (\n                <Square className=\"h-4 w-4 fill-[#1F2023] animate-pulse\" />\n              ) : isRecording ? (\n                <StopCircle className=\"h-5 w-5 text-red-500\" />\n              ) : hasContent ? (\n                <ArrowUp className=\"h-4 w-4 text-primary-foreground\" />\n              ) : (\n                <Mic className=\"h-5 w-5 text-primary-foreground transition-colors\" />\n              )}\n            </Button>\n          </PromptInputAction>\n        </PromptInputActions>\n      </PromptInput>\n\n      <ImageViewDialog imageUrl={selectedImage} onClose={() => setSelectedImage(null)} />\n    </>\n  );\n});\nPromptInputBox.displayName = \"PromptInputBox\";"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4572, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4577, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/logo.tsx"],"sourcesContent":["'use client'\n\nimport Image from 'next/image'\nimport { useTheme } from 'next-themes'\nimport { ComponentProps } from 'react'\n\nexport default function Logo(\n  props: Omit<ComponentProps<typeof Image>, 'src' | 'alt'>\n) {\n  const { theme } = useTheme()\n  const src = theme === 'light' ? '/logo-dark.png' : '/logo.png'\n  const { width, style } = props\n\n  return (\n    <Image\n      src={src}\n      alt=\"Logo\"\n      priority\n      {...props}\n      style={{ ...style, width, height: 'auto' }}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;AAMe,SAAS,KACtB,KAAwD;;IAExD,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,mJAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,MAAM,UAAU,UAAU,mBAAmB;IACnD,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG;IAEzB,qBACE,6LAAC,gIAAA,CAAA,UAAK;QACJ,KAAK;QACL,KAAI;QACJ,QAAQ;QACP,GAAG,KAAK;QACT,OAAO;YAAE,GAAG,KAAK;YAAE;YAAO,QAAQ;QAAO;;;;;;AAG/C;GAhBwB;;QAGJ,mJAAA,CAAA,WAAQ;;;KAHJ"}},
    {"offset": {"line": 4618, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4623, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/icons.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nexport const IconSun = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    {...props}\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"5\" />\n    <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" />\n    <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" />\n    <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" />\n    <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" />\n    <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" />\n    <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" />\n    <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" />\n    <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" />\n  </svg>\n)\n\nexport const IconMoon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    {...props}\n  >\n    <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" />\n  </svg>\n)\n"],"names":[],"mappings":";;;;;;AAAA;;AAIO,MAAM,UAAU,CAAC,sBACtB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACd,GAAG,KAAK;;0BAET,6LAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,6LAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;;;;;;0BAChC,6LAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;0BACjC,6LAAC;gBAAK,IAAG;gBAAO,IAAG;gBAAO,IAAG;gBAAO,IAAG;;;;;;0BACvC,6LAAC;gBAAK,IAAG;gBAAQ,IAAG;gBAAQ,IAAG;gBAAQ,IAAG;;;;;;0BAC1C,6LAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;gBAAI,IAAG;;;;;;0BAC/B,6LAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;0BACjC,6LAAC;gBAAK,IAAG;gBAAO,IAAG;gBAAQ,IAAG;gBAAO,IAAG;;;;;;0BACxC,6LAAC;gBAAK,IAAG;gBAAQ,IAAG;gBAAO,IAAG;gBAAQ,IAAG;;;;;;;;;;;;KArBhC;AAyBN,MAAM,WAAW,CAAC,sBACvB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACd,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;MAbC"}},
    {"offset": {"line": 4766, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4771, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { useTheme } from \"next-themes\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { IconMoon, IconSun } from \"@/components/ui/icons\"\n\nexport function ThemeToggle() {\n  const { setTheme, theme } = useTheme()\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n    >\n      <IconSun className=\"h-6 w-6 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <IconMoon className=\"absolute h-6 w-6 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AAQO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,mJAAA,CAAA,WAAQ,AAAD;IAEnC,qBACE,6LAAC,8HAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS,IAAM,SAAS,UAAU,UAAU,SAAS;;0BAErD,6LAAC,6HAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;0BACnB,6LAAC,6HAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;0BACpB,6LAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC;GAdgB;;QACc,mJAAA,CAAA,WAAQ;;;KADtB"}},
    {"offset": {"line": 4830, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4835, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/navbar.tsx"],"sourcesContent":["import Logo from './logo'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\nimport {\n  GitHubLogoIcon,\n} from '@radix-ui/react-icons'\nimport { Session } from '@supabase/supabase-js'\nimport { ArrowRight, LogOut, Trash, Undo, Settings, Menu, PanelRightOpen, PanelRightClose } from 'lucide-react'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { ThemeToggle } from './theme-toggle'\n\nexport function NavBar({\n  session,\n  showLogin,\n  signOut,\n  onClear,\n  canClear,\n  onSocialClick,\n  onUndo,\n  canUndo,\n  onTogglePanel,\n  isPanelOpen,\n}: {\n  session: Session | null\n  showLogin: () => void\n  signOut: () => void\n  onClear: () => void\n  canClear: boolean\n  onSocialClick: (target: 'github' | 'x' | 'discord') => void\n  onUndo: () => void\n  canUndo: boolean\n  onTogglePanel?: () => void\n  isPanelOpen?: boolean\n}) {\n  return (\n    <nav className=\"w-full flex bg-transparent py-4\">\n      <div className=\"flex flex-1 items-center\">\n        <Link href=\"/\" className=\"flex items-center gap-2\" target=\"_blank\">\n          <Logo width={120} height={120} />\n          <h1 className=\"whitespace-pre\"> </h1>\n        </Link>\n        <Link\n          href=\"https://codinit.dev\"\n          className=\"underline decoration-[rgba(229,123,0,.3)] decoration-2 text-[#ff8800]\"\n          target=\"_blank\"\n        >\n          \n        </Link>\n      </div>\n      <div className=\"flex items-center gap-1 md:gap-4\">\n        {session && onTogglePanel && (\n          <TooltipProvider>\n            <Tooltip delayDuration={0}>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={onTogglePanel}\n                >\n                  {isPanelOpen ? (\n                    <PanelRightClose className=\"h-4 w-4 md:h-5 md:w-5\" />\n                  ) : (\n                    <PanelRightOpen className=\"h-4 w-4 md:h-5 md:w-5\" />\n                  )}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isPanelOpen ? 'Close panel' : 'Open IDE panel'}</TooltipContent>\n            </Tooltip>\n          </TooltipProvider>\n        )}\n        <TooltipProvider>\n          <Tooltip delayDuration={0}>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={onUndo}\n                disabled={!canUndo}\n              >\n                <Undo className=\"h-4 w-4 md:h-5 md:w-5\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Undo</TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n        <TooltipProvider>\n          <Tooltip delayDuration={0}>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={onClear}\n                disabled={!canClear}\n              >\n                <Trash className=\"h-4 w-4 md:h-5 md:w-5\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Clear chat</TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n        <ThemeToggle />\n        {session ? (\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\">\n                <Menu className=\"h-5 w-5\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent className=\"w-56\" align=\"end\">\n              <DropdownMenuLabel className=\"flex flex-col\">\n                <span className=\"text-sm\">My Account</span>\n                <span className=\"text-xs text-muted-foreground\">\n                  {session.user.user_metadata?.name ||\n                    session.user.user_metadata?.full_name ||\n                    session.user.email}\n                </span>\n              </DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem\n                onClick={() => {\n                  window.open('https://codinit.dev/blog/codinit-beta', '_blank')\n                }}\n              >\n                <Image\n                  src=\"/icon.png\"\n                  width={16}\n                  height={16}\n                  className=\"mr-2 text-muted-foreground\"\n                  alt={''}\n                />\n                About CodinIT\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => onSocialClick('github')}>\n                <GitHubLogoIcon className=\"mr-2 h-4 w-4 text-muted-foreground\" />\n                Star on GitHub\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem asChild>\n                <Link href=\"/settings\">\n                  <Settings className=\"mr-2 h-4 w-4 text-muted-foreground\" />\n                  Settings\n                </Link>\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={signOut}>\n                <LogOut className=\"mr-2 h-4 w-4 text-muted-foreground\" />\n                Sign out\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        ) : (\n          <Button variant=\"default\" onClick={showLogin}>\n            Sign in\n            <ArrowRight className=\"ml-2 h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5255, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5260, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/user-settings.ts"],"sourcesContent":["import { createSupabaseBrowserClient } from './supabase-browser'\r\nimport {\r\n  UserProfile,\r\n  UserPreferences,\r\n  UserIntegration,\r\n  UserSecuritySettings\r\n} from './database.types'\r\n\r\n// Lazy getter for supabase instance\r\nfunction getSupabase() {\r\n  return createSupabaseBrowserClient()\r\n}\r\n\r\n// Cache to prevent excessive API calls\r\nlet tablesExistCache: { [key: string]: boolean } = {}\r\nexport let cacheTime: { [key: string]: number } = {}\r\nconst CACHE_DURATION = 5 * 60 * 1000 // 5 minutes\r\n\r\n// Check if a table exists with caching\r\nexport async function tableExists(tableName: string): Promise<boolean> {\r\n  const now = Date.now()\r\n  \r\n  // Return cached result if recent\r\n  if (tablesExistCache[tableName] && (now - cacheTime[tableName]) < CACHE_DURATION) {\r\n    return tablesExistCache[tableName]\r\n  }\r\n\r\n  const supabase = getSupabase()\r\n  if (!supabase) {\r\n    tablesExistCache[tableName] = false\r\n    cacheTime[tableName] = now\r\n    return false\r\n  }\r\n\r\n  try {\r\n    const { error } = await supabase.from(tableName).select('id').limit(1)\r\n    const exists = !error || error.code !== 'PGRST106'\r\n    \r\n    tablesExistCache[tableName] = exists\r\n    cacheTime[tableName] = now\r\n    \r\n    if (!exists) {\r\n      console.warn(`Table ${tableName} does not exist. API calls will return defaults.`)\r\n    }\r\n    \r\n    return exists\r\n  } catch (error) {\r\n    console.error(`Error checking table ${tableName}:`, error)\r\n    tablesExistCache[tableName] = false\r\n    cacheTime[tableName] = now\r\n    return false\r\n  }\r\n}\r\n\r\n// Safe wrapper to prevent API calls when tables don't exist\r\nasync function safeOperation<T>(\r\n  tableName: string,\r\n  operation: () => Promise<T>,\r\n  fallback: T,\r\n  operationName: string\r\n): Promise<T> {\r\n  if (!(await tableExists(tableName))) {\r\n    console.warn(`Skipping ${operationName} - table ${tableName} does not exist`)\r\n    return fallback\r\n  }\r\n  \r\n  try {\r\n    return await operation()\r\n  } catch (error) {\r\n    console.error(`${operationName} failed:`, error)\r\n    return fallback\r\n  }\r\n}\r\n\r\n\r\nexport async function getUserProfile(userId: string): Promise<UserProfile | null> {\r\n  if (!userId) return null\r\n\r\n  return safeOperation(\r\n    'profiles',\r\n    async () => {\r\n      const supabase = getSupabase()\r\n      if (!supabase) throw new Error('Supabase not available')\r\n\r\n      const { data, error } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('user_id', userId) // Uses idx_profiles_user_id index\r\n        .single()\r\n\r\n      if (error) {\r\n        if (error.code === 'PGRST116') {\r\n          // No profile found, create one\r\n          return await createUserProfile(userId)\r\n        }\r\n        throw error\r\n      }\r\n      return data\r\n    },\r\n    getDefaultProfile(userId),\r\n    'getUserProfile'\r\n  )\r\n}\r\n\r\nfunction getDefaultProfile(userId: string): UserProfile {\r\n  return {\r\n    id: '',\r\n    user_id: userId,\r\n    full_name: '',\r\n    display_name: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    work_description: '',\r\n    avatar_url: '',\r\n    onboarding_completed: false,\r\n    created_at: new Date().toISOString(),\r\n    updated_at: new Date().toISOString()\r\n  }\r\n}\r\n\r\nexport async function createUserProfile(userId: string, profile?: Partial<UserProfile>): Promise<UserProfile | null> {\r\n  if (!userId) return null\r\n\r\n  return safeOperation(\r\n    'profiles',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('profiles')\r\n        .insert({\r\n          user_id: userId, // Uses idx_profiles_user_id index\r\n          full_name: profile?.full_name || '',\r\n          display_name: profile?.display_name || '',\r\n          first_name: profile?.first_name || '',\r\n          last_name: profile?.last_name || '',\r\n          work_description: profile?.work_description || '',\r\n          avatar_url: profile?.avatar_url || '',\r\n          onboarding_completed: profile?.onboarding_completed || false\r\n        })\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return data\r\n    },\r\n    getDefaultProfile(userId),\r\n    'createUserProfile'\r\n  )\r\n}\r\n\r\nexport async function updateUserProfile(userId: string, updates: Partial<UserProfile>): Promise<boolean> {\r\n  if (!userId) return false\r\n\r\n  return safeOperation(\r\n    'profiles',\r\n    async () => {\r\n      const { error } = await getSupabase()!\r\n        .from('profiles')\r\n        .update(updates)\r\n        .eq('user_id', userId) // Uses idx_profiles_user_id index\r\n\r\n      if (error) throw error\r\n      return true\r\n    },\r\n    false,\r\n    'updateUserProfile'\r\n  )\r\n}\r\n\r\n// =============================================\r\n// USER PREFERENCES OPERATIONS  \r\n// =============================================\r\n\r\nexport async function getUserPreferences(userId: string): Promise<UserPreferences | null> {\r\n  if (!userId) return null\r\n\r\n  return safeOperation(\r\n    'user_preferences',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_preferences')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .single()\r\n\r\n      if (error) {\r\n        if (error.code === 'PGRST116') {\r\n          return await createUserPreferences(userId)\r\n        }\r\n        throw error\r\n      }\r\n      return data\r\n    },\r\n    getDefaultPreferences(userId),\r\n    'getUserPreferences'\r\n  )\r\n}\r\n\r\nfunction getDefaultPreferences(userId: string): UserPreferences {\r\n  return {\r\n    id: '',\r\n    user_id: userId,\r\n    ai_assistance: true,\r\n    smart_suggestions: false,\r\n    theme: 'system',\r\n    font_family: 'inter',\r\n    email_notifications: true,\r\n    marketing_emails: false,\r\n    security_alerts: true,\r\n    analytics_enabled: true,\r\n    data_sharing_enabled: false,\r\n    telemetry_enabled: false,\r\n    auto_template: 'nextjs-developer',\r\n    created_at: new Date().toISOString(),\r\n    updated_at: new Date().toISOString()\r\n  }\r\n}\r\n\r\nexport async function createUserPreferences(userId: string, preferences?: Partial<UserPreferences>): Promise<UserPreferences | null> {\r\n  if (!userId) return null\r\n\r\n  return safeOperation(\r\n    'user_preferences',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_preferences')\r\n        .insert({\r\n          user_id: userId,\r\n          ai_assistance: preferences?.ai_assistance ?? true,\r\n          smart_suggestions: preferences?.smart_suggestions ?? false,\r\n          theme: preferences?.theme ?? 'system',\r\n          font_family: preferences?.font_family ?? 'inter',\r\n          email_notifications: preferences?.email_notifications ?? true,\r\n          marketing_emails: preferences?.marketing_emails ?? false,\r\n          security_alerts: preferences?.security_alerts ?? true,\r\n          analytics_enabled: preferences?.analytics_enabled ?? true,\r\n          data_sharing_enabled: preferences?.data_sharing_enabled ?? false,\r\n          telemetry_enabled: preferences?.telemetry_enabled ?? false,\r\n          auto_template: preferences?.auto_template ?? 'nextjs-developer',\r\n          ...preferences\r\n        })\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return data\r\n    },\r\n    getDefaultPreferences(userId),\r\n    'createUserPreferences'\r\n  )\r\n}\r\n\r\nexport async function updateUserPreferences(userId: string, updates: Partial<UserPreferences>): Promise<boolean> {\r\n  if (!userId) return false\r\n\r\n  return safeOperation(\r\n    'user_preferences',\r\n    async () => {\r\n      // Try to update first\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_preferences')\r\n        .update(updates)\r\n        .eq('user_id', userId)\r\n        .select()\r\n\r\n      if (error) throw error\r\n\r\n      // If no rows updated, create preferences\r\n      if (!data || data.length === 0) {\r\n        const created = await createUserPreferences(userId, updates)\r\n        return !!created\r\n      }\r\n\r\n      return true\r\n    },\r\n    false,\r\n    'updateUserPreferences'\r\n  )\r\n}\r\n\r\nexport async function getUserIntegrations(userId: string): Promise<UserIntegration[]> {\r\n  if (!userId) return []\r\n\r\n  return safeOperation(\r\n    'user_integrations',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_integrations')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .order('service_name')\r\n\r\n      if (error) throw error\r\n      return data || []\r\n    },\r\n    getDefaultIntegrations(userId),\r\n    'getUserIntegrations'\r\n  )\r\n}\r\n\r\nfunction getDefaultIntegrations(userId: string): UserIntegration[] {\r\n  const services = ['github', 'google_drive', 'gmail', 'google_calendar', 'artifacts']\r\n  const now = new Date().toISOString()\r\n  \r\n  return services.map(service => ({\r\n    id: '',\r\n    user_id: userId,\r\n    service_name: service,\r\n    is_connected: service === 'artifacts',\r\n    connection_data: undefined,\r\n    last_sync_at: undefined,\r\n    created_at: now,\r\n    updated_at: now\r\n  }))\r\n}\r\n\r\nexport async function upsertUserIntegration(userId: string, serviceName: string, integration: Partial<UserIntegration>): Promise<boolean> {\r\n  if (!userId) return false\r\n\r\n  return safeOperation(\r\n    'user_integrations',\r\n    async () => {\r\n      const { error } = await getSupabase()!\r\n        .from('user_integrations')\r\n        .upsert({\r\n          user_id: userId,\r\n          service_name: serviceName,\r\n          ...integration\r\n        })\r\n\r\n      if (error) throw error\r\n      return true\r\n    },\r\n    false,\r\n    'upsertUserIntegration'\r\n  )\r\n}\r\n\r\nexport async function disconnectUserIntegration(userId: string, serviceName: string): Promise<boolean> {\r\n  if (!userId) return false\r\n\r\n  return safeOperation(\r\n    'user_integrations',\r\n    async () => {\r\n      const { error } = await getSupabase()!\r\n        .from('user_integrations')\r\n        .update({ \r\n          is_connected: false,\r\n          connection_data: null\r\n        })\r\n        .eq('user_id', userId)\r\n        .eq('service_name', serviceName)\r\n\r\n      if (error) throw error\r\n      return true\r\n    },\r\n    false,\r\n    'disconnectUserIntegration'\r\n  )\r\n}\r\n\r\nexport async function getUserSecuritySettings(userId: string): Promise<UserSecuritySettings | null> {\r\n  if (!userId) return null\r\n\r\n  return safeOperation(\r\n    'user_security_settings',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_security_settings')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .single()\r\n\r\n      if (error) {\r\n        if (error.code === 'PGRST116') {\r\n          return await createUserSecuritySettings(userId)\r\n        }\r\n        throw error\r\n      }\r\n      return data\r\n    },\r\n    getDefaultSecuritySettings(userId),\r\n    'getUserSecuritySettings'\r\n  )\r\n}\r\n\r\nfunction getDefaultSecuritySettings(userId: string): UserSecuritySettings {\r\n  return {\r\n    id: '',\r\n    user_id: userId,\r\n    two_factor_enabled: false,\r\n    backup_codes: undefined,\r\n    last_password_change: undefined,\r\n    login_notifications: true,\r\n    created_at: new Date().toISOString(),\r\n    updated_at: new Date().toISOString()\r\n  }\r\n}\r\n\r\nexport async function createUserSecuritySettings(userId: string): Promise<UserSecuritySettings | null> {\r\n  if (!userId) return null\r\n\r\n  return safeOperation(\r\n    'user_security_settings',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_security_settings')\r\n        .insert({\r\n          user_id: userId,\r\n          two_factor_enabled: false,\r\n          login_notifications: true\r\n        })\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return data\r\n    },\r\n    getDefaultSecuritySettings(userId),\r\n    'createUserSecuritySettings'\r\n  )\r\n}\r\n\r\nexport async function updateUserSecuritySettings(userId: string, updates: Partial<UserSecuritySettings>): Promise<boolean> {\r\n  if (!userId) return false\r\n\r\n  return safeOperation(\r\n    'user_security_settings',\r\n    async () => {\r\n      const { data, error } = await getSupabase()!\r\n        .from('user_security_settings')\r\n        .update(updates)\r\n        .eq('user_id', userId)\r\n        .select()\r\n\r\n      if (error) throw error\r\n\r\n      // If no rows updated, create settings\r\n      if (!data || data.length === 0) {\r\n        const created = await createUserSecuritySettings(userId)\r\n        if (created) {\r\n          return await updateUserSecuritySettings(userId, updates)\r\n        }\r\n      }\r\n\r\n      return true\r\n    },\r\n    false,\r\n    'updateUserSecuritySettings'\r\n  )\r\n}\r\n\r\n\r\nexport async function getUserData(userId: string) {\r\n  if (!userId) return null\r\n\r\n  const [profile, preferences, integrations, securitySettings] = await Promise.all([\r\n    getUserProfile(userId),\r\n    getUserPreferences(userId),\r\n    getUserIntegrations(userId),\r\n    getUserSecuritySettings(userId)\r\n  ])\r\n\r\n  return {\r\n    profile,\r\n    preferences,\r\n    integrations,\r\n    securitySettings\r\n  }\r\n}\r\n\r\n// Clear the cache (useful after running migration)\r\nexport function clearSettingsCache(): void {\r\n  tablesExistCache = {}\r\n  cacheTime = {}\r\n}\r\n\r\nexport async function checkSupabaseConnection(): Promise<boolean> {\r\n  const supabase = getSupabase()\r\n  if (!supabase) return false\r\n  \r\n  try {\r\n    const { data: { session } } = await supabase.auth.getSession()\r\n    return !!session\r\n  } catch (error) {\r\n    console.error('Supabase connection check failed:', error)\r\n    return false\r\n  }\r\n}\r\n\r\nexport async function checkEnhancedTablesExist() {\r\n  const tables = [\r\n    'profiles',\r\n    'user_preferences',\r\n    'user_integrations',\r\n    'user_security_settings'\r\n  ]\r\n  \r\n  const status: { [key: string]: boolean } = {}\r\n  \r\n  for (const table of tables) {\r\n    status[table] = await tableExists(table)\r\n  }\r\n  \r\n  return status\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5605, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5610, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/caching.ts"],"sourcesContent":["interface CacheEntry<T> {\n  data: T;\n  expiry: number;\n}\n\nconst cache = new Map<string, CacheEntry<any>>();\nconst CACHE_DURATION_MS = 5 * 60 * 1000; // 5 minutes\n\nexport function getFromCache<T>(key: string): T | null {\n  const entry = cache.get(key);\n  if (entry && entry.expiry > Date.now()) {\n    return entry.data;\n  }\n  if (entry) {\n    cache.delete(key);\n  }\n  return null;\n}\n\nexport function setInCache<T>(key: string, data: T, durationMs: number = CACHE_DURATION_MS): void {\n  const expiry = Date.now() + durationMs;\n  cache.set(key, { data, expiry });\n}\n\nexport function invalidateCache(key: string | RegExp): void {\n  if (typeof key === 'string') {\n    cache.delete(key);\n  } else {\n    for (const k of Array.from(cache.keys())) {\n      if (key.test(k)) {\n        cache.delete(k);\n      }\n    }\n  }\n}\n\nexport function clearCache(): void {\n  cache.clear();\n}\n"],"names":[],"mappings":";;;;;;AAKA,MAAM,QAAQ,IAAI;AAClB,MAAM,oBAAoB,IAAI,KAAK,MAAM,YAAY;AAE9C,SAAS,aAAgB,GAAW;IACzC,MAAM,QAAQ,MAAM,GAAG,CAAC;IACxB,IAAI,SAAS,MAAM,MAAM,GAAG,KAAK,GAAG,IAAI;QACtC,OAAO,MAAM,IAAI;IACnB;IACA,IAAI,OAAO;QACT,MAAM,MAAM,CAAC;IACf;IACA,OAAO;AACT;AAEO,SAAS,WAAc,GAAW,EAAE,IAAO,EAAE,aAAqB,iBAAiB;IACxF,MAAM,SAAS,KAAK,GAAG,KAAK;IAC5B,MAAM,GAAG,CAAC,KAAK;QAAE;QAAM;IAAO;AAChC;AAEO,SAAS,gBAAgB,GAAoB;IAClD,IAAI,OAAO,QAAQ,UAAU;QAC3B,MAAM,MAAM,CAAC;IACf,OAAO;QACL,KAAK,MAAM,KAAK,MAAM,IAAI,CAAC,MAAM,IAAI,IAAK;YACxC,IAAI,IAAI,IAAI,CAAC,IAAI;gBACf,MAAM,MAAM,CAAC;YACf;QACF;IACF;AACF;AAEO,SAAS;IACd,MAAM,KAAK;AACb"}},
    {"offset": {"line": 5649, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5654, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/database.ts"],"sourcesContent":["import { SupabaseClient } from '@supabase/supabase-js'\r\nimport { createSupabaseBrowserClient } from './supabase-browser'\r\nimport { Message } from './messages'\r\nimport { clearSettingsCache } from './user-settings'\r\nimport { getFromCache, setInCache, invalidateCache } from './caching'\r\n\r\n// The supabase client will be passed as an argument to functions.\r\n// A browser client is created here for convenience on the client-side.\r\nconst browserSupabase = createSupabaseBrowserClient()\r\n\r\nexport interface Project {\r\n  id: string\r\n  user_id: string\r\n  team_id?: string\r\n  title: string\r\n  description?: string\r\n  template_id?: string\r\n  status: 'active' | 'archived' | 'deleted'\r\n  is_public: boolean\r\n  metadata?: Record<string, any>\r\n  created_at: string\r\n  updated_at: string\r\n  deleted_at?: string\r\n}\r\n\r\nexport interface DbMessage {\r\n  id: string\r\n  project_id: string\r\n  role: 'user' | 'assistant'\r\n  content: Message['content']\r\n  object_data?: any\r\n  result_data?: any\r\n  sequence_number: number\r\n  created_at: string\r\n}\r\n\r\n// Global flag to prevent excessive retries\r\nlet tablesChecked = false\r\nlet tablesExist = false\r\n\r\n// Check if tables exist once, then cache result\r\nasync function ensureTablesExist(supabase: SupabaseClient<any, \"public\", any>): Promise<boolean> {\r\n  if (tablesChecked) return tablesExist;\r\n\r\n  if (!supabase) {\r\n    tablesChecked = true\r\n    tablesExist = false\r\n    return false\r\n  }\r\n\r\n  try {\r\n    // Quick check for critical tables\r\n    const { error } = await supabase.from('projects').select('id').limit(1)\r\n\r\n    tablesChecked = true\r\n    tablesExist = !error || error.code !== 'PGRST106'\r\n    \r\n    if (!tablesExist) {\r\n      console.warn('Database tables do not exist. Please run the migration.')\r\n    }\r\n    \r\n    return tablesExist\r\n  } catch (error) {\r\n    console.error('Table check failed:', error)\r\n    tablesChecked = true\r\n    tablesExist = false\r\n    return false\r\n  }\r\n}\r\n\r\n// Wrapper to prevent API calls when tables don't exist\r\nasync function safeApiCall<T>(\r\n  supabase: SupabaseClient<any, \"public\", any>,\r\n  operation: () => Promise<T>,\r\n  fallback: T,\r\n  operationName: string\r\n): Promise<T> {\r\n  if (!(await ensureTablesExist(supabase))) {\r\n    console.warn(`Skipping ${operationName} - tables do not exist`)\r\n    return fallback\r\n  }\r\n  \r\n  try {\r\n    return await operation()\r\n  } catch (error) {\r\n    console.error(`${operationName} failed:`, error)\r\n    return fallback\r\n  }\r\n}\r\n\r\n// =============================================\r\n// PROJECT OPERATIONS\r\n// =============================================\r\n\r\nexport async function createProject(\r\n  supabase: SupabaseClient<any, \"public\", any>,\r\n  title: string, \r\n  templateId?: string,\r\n  description?: string,\r\n  teamId?: string\r\n): Promise<Project | null> {\r\n  clearSettingsCache()\r\n  return safeApiCall(supabase, async () => {\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n    if (!user) throw new Error('User not authenticated')\r\n\r\n    const { data, error } = await supabase\r\n      .from('projects')\r\n      .insert({\r\n        user_id: user.id,\r\n        team_id: teamId,\r\n        title,\r\n        description,\r\n        template_id: templateId,\r\n        status: 'active',\r\n        is_public: false,\r\n        metadata: {}\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n    return data\r\n  }, null, 'createProject')\r\n}\r\n\r\nexport async function getProjects(\r\n  supabase: SupabaseClient<any, \"public\", any> | null = browserSupabase,\r\n  includeArchived: boolean = false,\r\n  teamId?: string\r\n): Promise<Project[]> {\r\n  const { data: { user } } = await supabase!.auth.getUser()\r\n  if (!user) return []\r\n\r\n  const cacheKey = `projects:${user.id}:${includeArchived}:${teamId || ''}`\r\n  const cachedProjects = getFromCache<Project[]>(cacheKey)\r\n  if (cachedProjects) {\r\n    return cachedProjects\r\n  }\r\n\r\n  return safeApiCall(supabase!, async () => {\r\n    let query = supabase!\r\n      .from('projects')\r\n      .select('*')\r\n      .eq('user_id', user.id)\r\n      .is('deleted_at', null)\r\n      .order('updated_at', { ascending: false })\r\n\r\n    if (!includeArchived) {\r\n      query = query.eq('status', 'active')\r\n    }\r\n\r\n    if (teamId) {\r\n      query = query.eq('team_id', teamId)\r\n    }\r\n\r\n    const { data, error } = await query\r\n    if (error) throw error\r\n    \r\n    setInCache(cacheKey, data || [])\r\n    return data || []\r\n  }, [], 'getProjects')\r\n}\r\n\r\nexport async function getProject(\r\n  supabase: SupabaseClient<any, \"public\", any> | null = browserSupabase,\r\n  projectId: string\r\n): Promise<Project | null> {\r\n  return safeApiCall(supabase!, async () => {\r\n    const { data, error } = await supabase!\r\n      .from('projects')\r\n      .select('*')\r\n      .eq('id', projectId)\r\n      .single()\r\n\r\n    if (error) throw error\r\n    return data\r\n  }, null, 'getProject')\r\n}\r\n\r\nexport async function updateProject(\r\n  supabase: SupabaseClient<any, \"public\", any> | null = browserSupabase,\r\n  id: string, \r\n  updates: Partial<Project>\r\n): Promise<boolean> {\r\n  const { data: { user } } = await supabase!.auth.getUser()\r\n  if (user) {\r\n    invalidateCache(new RegExp(`^projects:${user.id}:`))\r\n  }\r\n\r\n  return safeApiCall(supabase!, async () => {\r\n    const { error } = await supabase!\r\n      .from('projects')\r\n      .update({ ...updates, updated_at: new Date().toISOString() })\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n    return true\r\n  }, false, 'updateProject')\r\n}\r\n\r\nexport async function deleteProject(\r\n  supabase: SupabaseClient<any, \"public\", any> | null = browserSupabase,\r\n  id: string, \r\n  permanent: boolean = false\r\n): Promise<boolean> {\r\n  const { data: { user } } = await supabase!.auth.getUser()\r\n  if (user) {\r\n    invalidateCache(new RegExp(`^projects:${user.id}:`))\r\n  }\r\n\r\n  return safeApiCall(supabase!, async () => {\r\n    if (permanent) {\r\n      const { error } = await supabase!\r\n        .from('projects')\r\n        .delete()\r\n        .eq('id', id)\r\n      if (error) throw error\r\n    } else {\r\n      const { error } = await supabase!\r\n        .from('projects')\r\n        .update({ \r\n          deleted_at: new Date().toISOString(),\r\n          status: 'deleted'\r\n        })\r\n        .eq('id', id)\r\n      if (error) throw error\r\n    }\r\n    return true\r\n  }, false, 'deleteProject')\r\n}\r\n\r\n// =============================================\r\n// MESSAGE OPERATIONS\r\n// =============================================\r\n\r\nexport async function saveMessage(\r\n  supabase: SupabaseClient<any, 'public', any> | null = browserSupabase,\r\n  projectId: string,\r\n  message: Message,\r\n  sequenceNumber: number,\r\n): Promise<boolean> {\r\n  return safeApiCall(\r\n    supabase!,\r\n    async () => {\r\n      const { error } = await supabase!.rpc('save_message_and_update_project', {\r\n        project_id_param: projectId,\r\n        role_param: message.role,\r\n        content_param: message.content,\r\n        object_data_param: message.object,\r\n        result_data_param: message.result,\r\n        sequence_number_param: sequenceNumber,\r\n      })\r\n\r\n      if (error) throw error\r\n      return true\r\n    },\r\n    false,\r\n    'saveMessage',\r\n  )\r\n}\r\n\r\nexport async function getProjectMessages(\r\n  supabase: SupabaseClient<any, \"public\", any> | null = browserSupabase,\r\n  projectId: string\r\n): Promise<Message[]> {\r\n  const cacheKey = `project-messages:${projectId}`\r\n  const cachedMessages = getFromCache<Message[]>(cacheKey)\r\n  if (cachedMessages) {\r\n    return cachedMessages\r\n  }\r\n\r\n  return safeApiCall(supabase!, async () => {\r\n    const { data, error } = await supabase!\r\n      .from('messages')\r\n      .select('*')\r\n      .eq('project_id', projectId)\r\n      .order('sequence_number', { ascending: true })\r\n\r\n    if (error) throw error\r\n\r\n    const messages = data?.map((msg: DbMessage) => ({\r\n      role: msg.role,\r\n      content: msg.content,\r\n      object: msg.object_data,\r\n      result: msg.result_data,\r\n    })) || []\r\n\r\n    setInCache(cacheKey, messages)\r\n    return messages\r\n  }, [], 'getProjectMessages')\r\n}\r\n\r\nexport async function clearProjectMessages(\r\n  supabase: SupabaseClient<any, \"public\", any> | null = browserSupabase,\r\n  projectId: string\r\n): Promise<boolean> {\r\n  invalidateCache(`project-messages:${projectId}`)\r\n  return safeApiCall(supabase!, async () => {\r\n    const { error } = await supabase!\r\n      .from('messages')\r\n      .delete()\r\n      .eq('project_id', projectId)\r\n\r\n    if (error) throw error\r\n    return true\r\n  }, false, 'clearProjectMessages')\r\n}\r\n\r\n// =============================================\r\n// UTILITY FUNCTIONS\r\n// =============================================\r\n\r\nexport async function generateProjectTitle(firstMessage: string): Promise<string> {\r\n  const words = firstMessage.trim().split(' ').slice(0, 6)\r\n  let title = words.join(' ')\r\n  \r\n  if (firstMessage.split(' ').length > 6) {\r\n    title += '...'\r\n  }\r\n  \r\n  if (!title.trim()) {\r\n    title = 'New Project'\r\n  }\r\n  \r\n  return title\r\n}\r\n\r\n// Reset the tables check (useful for when migration is completed)\r\nexport function resetTableCheck(): void {\r\n  tablesChecked = false\r\n  tablesExist = false\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAMA,kEAAkE;AAClE,uEAAuE;AACvE,MAAM,kBAAkB,CAAA,GAAA,6HAAA,CAAA,8BAA2B,AAAD;AA4BlD,2CAA2C;AAC3C,IAAI,gBAAgB;AACpB,IAAI,cAAc;AAElB,gDAAgD;AAChD,eAAe,kBAAkB,QAA4C;IAC3E,IAAI,eAAe,OAAO;IAE1B,IAAI,CAAC,UAAU;QACb,gBAAgB;QAChB,cAAc;QACd,OAAO;IACT;IAEA,IAAI;QACF,kCAAkC;QAClC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC,MAAM,KAAK,CAAC;QAErE,gBAAgB;QAChB,cAAc,CAAC,SAAS,MAAM,IAAI,KAAK;QAEvC,IAAI,CAAC,aAAa;YAChB,QAAQ,IAAI,CAAC;QACf;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,gBAAgB;QAChB,cAAc;QACd,OAAO;IACT;AACF;AAEA,uDAAuD;AACvD,eAAe,YACb,QAA4C,EAC5C,SAA2B,EAC3B,QAAW,EACX,aAAqB;IAErB,IAAI,CAAE,MAAM,kBAAkB,WAAY;QACxC,QAAQ,IAAI,CAAC,CAAC,SAAS,EAAE,cAAc,sBAAsB,CAAC;QAC9D,OAAO;IACT;IAEA,IAAI;QACF,OAAO,MAAM;IACf,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,EAAE,cAAc,QAAQ,CAAC,EAAE;QAC1C,OAAO;IACT;AACF;AAMO,eAAe,cACpB,QAA4C,EAC5C,KAAa,EACb,UAAmB,EACnB,WAAoB,EACpB,MAAe;IAEf,CAAA,GAAA,0HAAA,CAAA,qBAAkB,AAAD;IACjB,OAAO,YAAY,UAAU;QAC3B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;QAE3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC;YACN,SAAS,KAAK,EAAE;YAChB,SAAS;YACT;YACA;YACA,aAAa;YACb,QAAQ;YACR,WAAW;YACX,UAAU,CAAC;QACb,GACC,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT,GAAG,MAAM;AACX;AAEO,eAAe,YACpB,WAAsD,eAAe,EACrE,kBAA2B,KAAK,EAChC,MAAe;IAEf,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAU,IAAI,CAAC,OAAO;IACvD,IAAI,CAAC,MAAM,OAAO,EAAE;IAEpB,MAAM,WAAW,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,gBAAgB,CAAC,EAAE,UAAU,GAAG,CAAC;IACzE,MAAM,iBAAiB,CAAA,GAAA,iHAAA,CAAA,eAAY,AAAD,EAAa;IAC/C,IAAI,gBAAgB;QAClB,OAAO;IACT;IAEA,OAAO,YAAY,UAAW;QAC5B,IAAI,QAAQ,SACT,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,cAAc,MACjB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,CAAC,iBAAiB;YACpB,QAAQ,MAAM,EAAE,CAAC,UAAU;QAC7B;QAEA,IAAI,QAAQ;YACV,QAAQ,MAAM,EAAE,CAAC,WAAW;QAC9B;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAC9B,IAAI,OAAO,MAAM;QAEjB,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,UAAU,QAAQ,EAAE;QAC/B,OAAO,QAAQ,EAAE;IACnB,GAAG,EAAE,EAAE;AACT;AAEO,eAAe,WACpB,WAAsD,eAAe,EACrE,SAAiB;IAEjB,OAAO,YAAY,UAAW;QAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,WACT,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT,GAAG,MAAM;AACX;AAEO,eAAe,cACpB,WAAsD,eAAe,EACrE,EAAU,EACV,OAAyB;IAEzB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAU,IAAI,CAAC,OAAO;IACvD,IAAI,MAAM;QACR,CAAA,GAAA,iHAAA,CAAA,kBAAe,AAAD,EAAE,IAAI,OAAO,CAAC,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IACpD;IAEA,OAAO,YAAY,UAAW;QAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,CAAC;YAAE,GAAG,OAAO;YAAE,YAAY,IAAI,OAAO,WAAW;QAAG,GAC1D,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO,MAAM;QACjB,OAAO;IACT,GAAG,OAAO;AACZ;AAEO,eAAe,cACpB,WAAsD,eAAe,EACrE,EAAU,EACV,YAAqB,KAAK;IAE1B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAU,IAAI,CAAC,OAAO;IACvD,IAAI,MAAM;QACR,CAAA,GAAA,iHAAA,CAAA,kBAAe,AAAD,EAAE,IAAI,OAAO,CAAC,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IACpD;IAEA,OAAO,YAAY,UAAW;QAC5B,IAAI,WAAW;YACb,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,GACN,EAAE,CAAC,MAAM;YACZ,IAAI,OAAO,MAAM;QACnB,OAAO;YACL,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,CAAC;gBACN,YAAY,IAAI,OAAO,WAAW;gBAClC,QAAQ;YACV,GACC,EAAE,CAAC,MAAM;YACZ,IAAI,OAAO,MAAM;QACnB;QACA,OAAO;IACT,GAAG,OAAO;AACZ;AAMO,eAAe,YACpB,WAAsD,eAAe,EACrE,SAAiB,EACjB,OAAgB,EAChB,cAAsB;IAEtB,OAAO,YACL,UACA;QACE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAU,GAAG,CAAC,mCAAmC;YACvE,kBAAkB;YAClB,YAAY,QAAQ,IAAI;YACxB,eAAe,QAAQ,OAAO;YAC9B,mBAAmB,QAAQ,MAAM;YACjC,mBAAmB,QAAQ,MAAM;YACjC,uBAAuB;QACzB;QAEA,IAAI,OAAO,MAAM;QACjB,OAAO;IACT,GACA,OACA;AAEJ;AAEO,eAAe,mBACpB,WAAsD,eAAe,EACrE,SAAiB;IAEjB,MAAM,WAAW,CAAC,iBAAiB,EAAE,UAAU,CAAC;IAChD,MAAM,iBAAiB,CAAA,GAAA,iHAAA,CAAA,eAAY,AAAD,EAAa;IAC/C,IAAI,gBAAgB;QAClB,OAAO;IACT;IAEA,OAAO,YAAY,UAAW;QAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,KAAK,CAAC,mBAAmB;YAAE,WAAW;QAAK;QAE9C,IAAI,OAAO,MAAM;QAEjB,MAAM,WAAW,MAAM,IAAI,CAAC,MAAmB,CAAC;gBAC9C,MAAM,IAAI,IAAI;gBACd,SAAS,IAAI,OAAO;gBACpB,QAAQ,IAAI,WAAW;gBACvB,QAAQ,IAAI,WAAW;YACzB,CAAC,MAAM,EAAE;QAET,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,UAAU;QACrB,OAAO;IACT,GAAG,EAAE,EAAE;AACT;AAEO,eAAe,qBACpB,WAAsD,eAAe,EACrE,SAAiB;IAEjB,CAAA,GAAA,iHAAA,CAAA,kBAAe,AAAD,EAAE,CAAC,iBAAiB,EAAE,UAAU,CAAC;IAC/C,OAAO,YAAY,UAAW;QAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,GACN,EAAE,CAAC,cAAc;QAEpB,IAAI,OAAO,MAAM;QACjB,OAAO;IACT,GAAG,OAAO;AACZ;AAMO,eAAe,qBAAqB,YAAoB;IAC7D,MAAM,QAAQ,aAAa,IAAI,GAAG,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG;IACtD,IAAI,QAAQ,MAAM,IAAI,CAAC;IAEvB,IAAI,aAAa,KAAK,CAAC,KAAK,MAAM,GAAG,GAAG;QACtC,SAAS;IACX;IAEA,IAAI,CAAC,MAAM,IAAI,IAAI;QACjB,QAAQ;IACV;IAEA,OAAO;AACT;AAGO,SAAS;IACd,gBAAgB;IAChB,cAAc;AAChB"}},
    {"offset": {"line": 5857, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5862, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/messages.ts"],"sourcesContent":["import { FragmentSchema } from './schema'\nimport { ExecutionResult } from './types'\nimport { DeepPartial } from 'ai'\n\nexport type MessageText = {\n  type: 'text'\n  text: string\n}\n\nexport type MessageCode = {\n  type: 'code'\n  text: string\n}\n\nexport type MessageImage = {\n  type: 'image'\n  image: string\n}\n\nexport type Message = {\n  role: 'assistant' | 'user'\n  content: Array<MessageText | MessageCode | MessageImage>\n  object?: DeepPartial<FragmentSchema>\n  result?: ExecutionResult\n}\n\nexport function toAISDKMessages(messages: Message[]) {\n  return messages.map((message) => ({\n    role: message.role,\n    content: message.content.map((content) => {\n      if (content.type === 'code') {\n        return {\n          type: 'text',\n          text: content.text,\n        }\n      }\n\n      return content\n    }),\n  }))\n}\n\nexport async function toMessageImage(files: File[]) {\n  if (files.length === 0) {\n    return []\n  }\n\n  return Promise.all(\n    files.map(async (file) => {\n      const base64 = Buffer.from(await file.arrayBuffer()).toString('base64')\n      return `data:${file.type};base64,${base64}`\n    }),\n  )\n}\n"],"names":[],"mappings":";;;;;;AA0BO,SAAS,gBAAgB,QAAmB;IACjD,OAAO,SAAS,GAAG,CAAC,CAAC,UAAY,CAAC;YAChC,MAAM,QAAQ,IAAI;YAClB,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC5B,IAAI,QAAQ,IAAI,KAAK,QAAQ;oBAC3B,OAAO;wBACL,MAAM;wBACN,MAAM,QAAQ,IAAI;oBACpB;gBACF;gBAEA,OAAO;YACT;QACF,CAAC;AACH;AAEO,eAAe,eAAe,KAAa;IAChD,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,OAAO,EAAE;IACX;IAEA,OAAO,QAAQ,GAAG,CAChB,MAAM,GAAG,CAAC,OAAO;QACf,MAAM,SAAS,8JAAA,CAAA,SAAM,CAAC,IAAI,CAAC,MAAM,KAAK,WAAW,IAAI,QAAQ,CAAC;QAC9D,OAAO,CAAC,KAAK,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC;IAC7C;AAEJ"}},
    {"offset": {"line": 5891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5896, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/schema.ts"],"sourcesContent":["import { z } from 'zod'\n\nexport const fragmentSchema = z.object({\n  commentary: z\n    .string()\n    .describe(\n      `Describe what you're about to do and the steps you want to take for generating the fragment in great detail.`,\n    ),\n  template: z\n    .string()\n    .describe('Name of the template used to generate the fragment.'),\n  // template_ready: z.boolean().describe('Detect if finished identifying the template.'),\n  title: z.string().describe('Short title of the fragment. Max 3 words.'),\n  description: z\n    .string()\n    .describe('Short description of the fragment. Max 1 sentence.'),\n  additional_dependencies: z\n    .array(z.string())\n    .describe(\n      'Additional dependencies required by the fragment. Do not include dependencies that are already included in the template.',\n    ),\n  has_additional_dependencies: z\n    .boolean()\n    .describe(\n      'Detect if additional dependencies that are not included in the template are required by the fragment.',\n    ),\n  install_dependencies_command: z\n    .string()\n    .describe(\n      'Command to install additional dependencies required by the fragment.',\n    ),\n  // install_dependencies_ready: z.boolean().describe('Detect if finished identifying additional dependencies.'),\n  port: z\n    .number()\n    .nullable()\n    .describe(\n      'Port number used by the resulted fragment. Null when no ports are exposed.',\n    ),\n  file_path: z\n    .string()\n    .describe('Relative path to the file, including the file name.'),\n  code: z\n    .string()\n    .describe('Code generated by the fragment. Only runnable code is allowed.'),\n  // code: z.array(z.object({\n  //   file_name: z.string().describe('Name of the file.'),\n  //   file_path: z.string().describe('Relative path to the file, including the file name.'),\n  //   file_content: z.string().describe('Content of the file.'),\n  //   file_finished: z.boolean().describe('Detect if finished generating the file.'),\n  // })),\n  // code_finished: z.boolean().describe('Detect if finished generating the code.'),\n  // error: z.string().optional().describe('Error message if the fragment is not valid.'),\n})\n\nexport type FragmentSchema = z.infer<typeof fragmentSchema>\n\n// Schema for morph edit instructions\nexport const morphEditSchema = z.object({\n  commentary: z\n    .string()\n    .describe('Explain what changes you are making and why'),\n  instruction: z\n    .string()\n    .describe('One line instruction on what the change is'),\n  edit: z\n    .string()\n    .describe(\n      \"You should make it clear what the edit is, while also minimizing the unchanged code you write. When writing the edit, you should specify each edit in sequence, with the special comment // ... existing code ... to represent unchanged code in between edited lines. For example: // ... existing code ... FIRST_EDIT // ... existing code ... SECOND_EDIT // ... existing code ... THIRD_EDIT // ... existing code ... Be Lazy when outputting code, rely heavily on the exisitng code comments, but each edit should contain minimally sufficient context of unchanged lines around the code you're editing to resolve ambiguity. DO NOT omit spans of pre-existing code (or comments) without using the // ... existing code ... comment to indicate its absence. If you omit the existing code comment, the model may inadvertently delete these lines. If you plan on deleting a section, you must provide context before and after to delete it. If the initial code is ```code \\\\n Block 1 \\\\n Block 2 \\\\n Block 3 \\\\n code```, and you want to remove Block 2, you would output ```// ... existing code ... \\\\n Block 1 \\\\n  Block 3 \\\\n // ... existing code ...```. \",\n    ),\n  file_path: z.string().describe('Path to the file being edited'),\n})\n\nexport type MorphEditSchema = z.infer<typeof morphEditSchema>"],"names":[],"mappings":";;;;;;;AAEO,MAAM,iBAAiB,qKAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrC,YAAY,qKAAA,CAAA,IAAC,CACV,MAAM,GACN,QAAQ,CACP,CAAC,4GAA4G,CAAC;IAElH,UAAU,qKAAA,CAAA,IAAC,CACR,MAAM,GACN,QAAQ,CAAC;IACZ,wFAAwF;IACxF,OAAO,qKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC3B,aAAa,qKAAA,CAAA,IAAC,CACX,MAAM,GACN,QAAQ,CAAC;IACZ,yBAAyB,qKAAA,CAAA,IAAC,CACvB,KAAK,CAAC,qKAAA,CAAA,IAAC,CAAC,MAAM,IACd,QAAQ,CACP;IAEJ,6BAA6B,qKAAA,CAAA,IAAC,CAC3B,OAAO,GACP,QAAQ,CACP;IAEJ,8BAA8B,qKAAA,CAAA,IAAC,CAC5B,MAAM,GACN,QAAQ,CACP;IAEJ,+GAA+G;IAC/G,MAAM,qKAAA,CAAA,IAAC,CACJ,MAAM,GACN,QAAQ,GACR,QAAQ,CACP;IAEJ,WAAW,qKAAA,CAAA,IAAC,CACT,MAAM,GACN,QAAQ,CAAC;IACZ,MAAM,qKAAA,CAAA,IAAC,CACJ,MAAM,GACN,QAAQ,CAAC;AASd;AAKO,MAAM,kBAAkB,qKAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACtC,YAAY,qKAAA,CAAA,IAAC,CACV,MAAM,GACN,QAAQ,CAAC;IACZ,aAAa,qKAAA,CAAA,IAAC,CACX,MAAM,GACN,QAAQ,CAAC;IACZ,MAAM,qKAAA,CAAA,IAAC,CACJ,MAAM,GACN,QAAQ,CACP;IAEJ,WAAW,qKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACjC"}},
    {"offset": {"line": 5923, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5932, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/templates.ts"],"sourcesContent":["import templates from './templates.json'\n\nexport default templates\nexport type Templates = typeof templates\nexport type TemplateId = keyof typeof templates\nexport type TemplateConfig = typeof templates[TemplateId]\n\nexport function templatesToPrompt(templates: Templates) {\n  return `${Object.entries(templates).map(([id, t], index) => `${index + 1}. ${id}: \"${t.instructions}\". File: ${t.file || 'none'}. Dependencies installed: ${t.lib ? t.lib.join(', ') : 'none'}. Port: ${t.port || 'none'}.`).join('\\n')}`\n}"],"names":[],"mappings":";;;;;;;uCAEe,wFAAA,CAAA,UAAS;AAKjB,SAAS,kBAAkB,SAAoB;IACpD,OAAO,CAAC,EAAE,OAAO,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,QAAU,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,YAAY,CAAC,SAAS,EAAE,EAAE,IAAI,IAAI,OAAO,0BAA0B,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,OAAO,QAAQ,EAAE,EAAE,IAAI,IAAI,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3O"}},
    {"offset": {"line": 5943, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5948, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/hero-pill.tsx"],"sourcesContent":["import { motion } from \"framer-motion\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface HeroPillProps {\r\n  href: string\r\n  announcement?: string\r\n  className?: string\r\n  isExternal?: boolean\r\n}\r\n\r\nexport function HeroPill({ \r\n  href, \r\n  announcement = \"📣 Announcement\",\r\n  className,\r\n  isExternal = false,\r\n}: HeroPillProps) {\r\n  return (\r\n    <motion.a\r\n      href={href}\r\n      target={isExternal ? \"_blank\" : undefined}\r\n      className={cn(\r\n        \"flex w-auto items-center space-x-2 rounded-full\",\r\n        \"bg-primary/20 ring-1 ring-accent\",\r\n        \"px-2 py-1 whitespace-pre\",\r\n        className\r\n      )}\r\n      initial={{ opacity: 0, y: -20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n    >\r\n      <div className={cn(\r\n        \"w-fit rounded-full bg-accent px-2 py-0.5\",\r\n        \"text-xs font-medium text-primary sm:text-sm\",\r\n        \"text-center\"\r\n      )}>\r\n        {announcement}\r\n      </div>\r\n      <p className=\"text-xs font-medium text-primary sm:text-sm\">\r\n      </p>\r\n      <svg\r\n        width=\"12\"\r\n        height=\"12\"\r\n        className=\"ml-1\"\r\n        viewBox=\"0 0 12 12\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          d=\"M8.78141 5.33312L5.20541 1.75712L6.14808 0.814453L11.3334 5.99979L6.14808 11.1851L5.20541 10.2425L8.78141 6.66645H0.666748V5.33312H8.78141Z\"\r\n          fill=\"currentColor\"\r\n          className=\"text-primary\"\r\n        />\r\n      </svg>\r\n    </motion.a>\r\n  )\r\n}"],"names":[],"mappings":";;;;;;;;;;AAUO,SAAS,SAAS,EACvB,IAAI,EACJ,eAAe,iBAAiB,EAChC,SAAS,EACT,aAAa,KAAK,EACJ;IACd,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,CAAC;QACP,MAAM;QACN,QAAQ,aAAa,WAAW;QAChC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mDACA,oCACA,4BACA;QAEF,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;YAAK,MAAM;QAAU;;0BAE7C,6LAAC;gBAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACf,4CACA,+CACA;0BAEC;;;;;;0BAEH,6LAAC;gBAAE,WAAU;;;;;;0BAEb,6LAAC;gBACC,OAAM;gBACN,QAAO;gBACP,WAAU;gBACV,SAAQ;gBACR,MAAK;gBACL,OAAM;0BAEN,cAAA,6LAAC;oBACC,GAAE;oBACF,MAAK;oBACL,WAAU;;;;;;;;;;;;;;;;;AAKpB;KA7CgB"}},
    {"offset": {"line": 6022, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6027, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/star-border.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\r\nimport { ElementType, ComponentPropsWithoutRef } from \"react\"\r\n\r\ninterface StarBorderProps<T extends ElementType> {\r\n  as?: T\r\n  color?: string\r\n  speed?: string\r\n  className?: string\r\n  children: React.ReactNode\r\n}\r\n\r\nexport function StarBorder<T extends ElementType = \"div\">({\r\n  as,\r\n  className,\r\n  color,\r\n  speed = \"6s\",\r\n  children,\r\n  ...props\r\n}: StarBorderProps<T> & Omit<ComponentPropsWithoutRef<T>, keyof StarBorderProps<T>>) {\r\n  const Component = as || \"div\"\r\n  const defaultColor = color || \"hsl(var(--foreground))\"\r\n\r\n  return (\r\n    <Component \r\n      className={cn(\r\n        \"relative inline-block p-[1px] overflow-hidden rounded-full\",\r\n        className\r\n      )} \r\n      {...props}\r\n    >\r\n      <div\r\n        className={cn(\r\n          \"absolute w-[300%] h-[50%] bottom-[-11px] right-[-250%] rounded-full animate-star-movement-bottom z-0\",\r\n          \"opacity-20 dark:opacity-70\" \r\n        )}\r\n        style={{\r\n          background: `radial-gradient(circle, ${defaultColor}, transparent 10%)`,\r\n          animationDuration: speed,\r\n        }}\r\n      />\r\n      <div\r\n        className={cn(\r\n          \"absolute w-[300%] h-[50%] top-[-10px] left-[-250%] rounded-full animate-star-movement-top z-0\",\r\n          \"opacity-20 dark:opacity-70\"\r\n        )}\r\n        style={{\r\n          background: `radial-gradient(circle, ${defaultColor}, transparent 10%)`,\r\n          animationDuration: speed,\r\n        }}\r\n      />\r\n      <div className=\"relative z-10\">\r\n        {children}\r\n      </div>\r\n    </Component>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAWO,SAAS,WAA0C,EACxD,EAAE,EACF,SAAS,EACT,KAAK,EACL,QAAQ,IAAI,EACZ,QAAQ,EACR,GAAG,OAC8E;IACjF,MAAM,YAAY,MAAM;IACxB,MAAM,eAAe,SAAS;IAE9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8DACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,wGACA;gBAEF,OAAO;oBACL,YAAY,CAAC,wBAAwB,EAAE,aAAa,kBAAkB,CAAC;oBACvE,mBAAmB;gBACrB;;;;;;0BAEF,6LAAC;gBACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,iGACA;gBAEF,OAAO;oBACL,YAAY,CAAC,wBAAwB,EAAE,aAAa,kBAAkB,CAAC;oBACvE,mBAAmB;gBACrB;;;;;;0BAEF,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;KA5CgB"}},
    {"offset": {"line": 6082, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6087, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/announcement.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { HeroPill } from \"@/components/ui/hero-pill\"\r\nimport { StarBorder } from \"@/components/ui/star-border\"\r\n\r\n\r\nexport function HeroPillSecond() {\r\n  return (\r\n    <StarBorder color=\"hsl(var(--chart-1))\">\r\n      <HeroPill \r\n        href=\"https://github.com/gerome-elassaad/codingit/tree/desktop-app\"\r\n        announcement=\"📣 CHECKOUT OUR NEW APP FOR LOCAL DEV\"\r\n        isExternal\r\n        className=\"bg-slate-900/20 ring-1 ring-border [&_div]:bg-slate-100 [&_div]:text-slate-900 [&_p]:text-slate-900 [&_svg_path]:fill-slate-900 dark:[&_div]:bg-slate-900 dark:[&_div]:text-slate-100 dark:[&_p]:text-slate-100 dark:[&_svg_path]:fill-white\"\r\n      />\r\n    </StarBorder>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAMO,SAAS;IACd,qBACE,6LAAC,sIAAA,CAAA,aAAU;QAAC,OAAM;kBAChB,cAAA,6LAAC,oIAAA,CAAA,WAAQ;YACP,MAAK;YACL,cAAa;YACb,UAAU;YACV,WAAU;;;;;;;;;;;AAIlB;KAXgB"}},
    {"offset": {"line": 6120, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6129, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { ViewType } from '@/components/auth';\nimport { AuthDialog } from '@/components/auth-dialog';\nimport { Chat } from '@/components/chat';\nimport { PromptInputBox } from '@/components/ui/ai-prompt-box';\nimport { NavBar } from '@/components/navbar';\nimport { useAuth } from '@/lib/auth';\nimport dynamic from 'next/dynamic';\nimport { Project, createProject, saveMessage, getProjectMessages, generateProjectTitle, getProject } from '@/lib/database';\nimport { Message, toAISDKMessages, toMessageImage } from '@/lib/messages';\nimport { LLMModelConfig } from '@/lib/models';\nimport { FragmentSchema, fragmentSchema as schema } from '@/lib/schema';\nimport { createSupabaseBrowserClient } from '@/lib/supabase-browser';\nimport templates, { TemplateId } from '@/lib/templates';\nimport { ExecutionResult } from '@/lib/types';\nimport { cn } from '@/lib/utils';\nimport { DeepPartial } from 'ai';\nimport { experimental_useObject as useObject } from '@ai-sdk/react';\nimport { usePostHog } from 'posthog-js/react';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useLocalStorage } from 'usehooks-ts';\nimport { useUserTeam } from '@/lib/user-team-provider';\nimport { HeroPillSecond } from '@/components/announcement';\nimport { SupabaseClient } from '@supabase/supabase-js';\nimport models from '@/lib/models.json';\n\nconst PricingModal = dynamic(() => import('@/components/pricing').then(mod => ({ default: mod.PricingModal })), {\n  ssr: false,\n});\n\nconst Sidebar = dynamic(() => import('@/components/sidebar').then(mod => ({ default: mod.Sidebar })), {\n  ssr: false,\n});\n\nconst Preview = dynamic(() => import('@/components/preview').then(mod => ({ default: mod.Preview })), {\n  ssr: false,\n});\n\nexport default function Home() {\n  const supabase = createSupabaseBrowserClient()\n  const [selectedTemplate, setSelectedTemplate] = useState<'auto' | TemplateId>('auto')\n  const [languageModel, setLanguageModel] = useLocalStorage<LLMModelConfig>(\n    'languageModel',\n    {\n      model: 'claude-3-5-sonnet-latest',\n    },\n  )\n  const [useMorphApply, setUseMorphApply] = useLocalStorage(\n    'useMorphApply',\n    process.env.NEXT_PUBLIC_USE_MORPH_APPLY === 'true',\n  )\n\n  const posthog = usePostHog()\n\n  const [result, setResult] = useState<ExecutionResult>()\n  const [sessionStartTime] = useState(Date.now())\n  const [fragmentsGenerated, setFragmentsGenerated] = useState(0)\n  const [messagesCount, setMessagesCount] = useState(0)\n  const [errorsEncountered, setErrorsEncountered] = useState(0)\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [fragment, setFragment] = useState<DeepPartial<FragmentSchema>>();\n  const [currentTab, setCurrentTab] = useState<'code' | 'fragment' | 'terminal' | 'interpreter' | 'editor' | 'files' | 'ide'>('code');\n  const [selectedFile, setSelectedFile] = useState<{ path: string; content: string } | null>(null);\n  const [isPreviewLoading, setIsPreviewLoading] = useState(false);\n  const [isPreviewPanelOpen, setIsPreviewPanelOpen] = useState(false);\n  const [isAuthDialogOpen, setAuthDialog] = useState(false);\n  const [authView, setAuthView] = useState<ViewType>('sign_in')\n  const [, setIsRateLimited] = useState(false)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [isPricingModalOpen, setIsPricingModalOpen] = useState(false)\n  const setAuthDialogCallback = useCallback((isOpen: boolean) => {\n    setAuthDialog(isOpen)\n  }, [setAuthDialog])\n\n  const setAuthViewCallback = useCallback((view: ViewType) => {\n    setAuthView(view)\n  }, [setAuthView])\n  const [errorMessage, setErrorMessage] = useState('')\n  \n  const [currentProject, setCurrentProject] = useState<Project | null>(null)\n  const [isLoadingProject, setIsLoadingProject] = useState(false)\n\n  const { session } = useAuth(setAuthDialogCallback, setAuthViewCallback)\n  const { userTeam } = useUserTeam()\n\n  const handleChatSelected = async (chatId: string) => {\n    const project = await getProject(supabase, chatId);\n    if (project) {\n      setCurrentProject(project);\n    }\n  };\n\n  const filteredModels = models.models.filter((model: any) => {\n    if (process.env.NEXT_PUBLIC_HIDE_LOCAL_MODELS) {\n      return model.providerId !== 'ollama'\n    }\n    return true\n  })\n\n  const currentModel = filteredModels.find(\n    (model: any) => model.id === languageModel.model,\n  );\n\n  // Determine which API to use based on morph toggle and existing fragment\n  const shouldUseMorph = useMorphApply && fragment && fragment.code && fragment.file_path\n  const apiEndpoint = shouldUseMorph ? '/api/morph-chat' : '/api/chat'\n\n  const { object, submit, isLoading, stop, error } = useObject({\n    api: apiEndpoint,\n    schema,\n    onError: (error: Error) => {\n      setErrorsEncountered(prev => prev + 1)\n      console.error('Error submitting request:', error);\n      \n      let displayMessage = error.message;\n      let isRateLimit = false\n      \n      // Try to parse structured error response\n      try {\n        if (error.message.startsWith('{')) {\n          const errorData = JSON.parse(error.message)\n          displayMessage = errorData.error || error.message\n          isRateLimit = errorData.type === 'rate_limit'\n        } else {\n          // Handle common error patterns\n          if (error.message.includes('limit') || error.message.includes('rate')) {\n            isRateLimit = true\n            displayMessage = 'Rate limit exceeded. Please try again later or use your own API key.'\n          } else if (error.message.includes('API key') || error.message.includes('unauthorized')) {\n            displayMessage = 'Invalid API key. Please check your API key configuration in settings.'\n          } else if (error.message.includes('network') || error.message.includes('fetch')) {\n            displayMessage = 'Network error. Please check your connection and try again.'\n          } else if (error.message.includes('timeout')) {\n            displayMessage = 'Request timeout. Please try again.'\n          }\n        }\n      } catch {\n        // Use original error message if parsing fails\n      }\n      \n      setIsRateLimited(isRateLimit);\n      setErrorMessage(displayMessage);\n    },\n    onFinish: async ({ object: fragment, error }: { object: DeepPartial<FragmentSchema> | undefined, error: any }) => {\n      if (!error && fragment) {\n        setIsPreviewLoading(true);\n        // Enhanced analytics tracking\n        if (fragment.code && fragment.template) {\n        }\n        setFragmentsGenerated(prev => prev + 1)\n        \n        \n        posthog.capture('fragment_generated', {\n          template: fragment?.template,\n        })\n\n        const response = await fetch('/api/sandbox', {\n          method: 'POST',\n          body: JSON.stringify({\n            fragment,\n            userID: session?.user?.id,\n            teamID: userTeam?.id,\n            accessToken: session?.access_token,\n          }),\n        })\n\n        const result = await response.json()\n        \n        if (!response.ok) {\n          // If response is not ok, result is an error object\n          const errorResult = result as { error?: string };\n          console.error('Sandbox creation failed:', errorResult);\n          setErrorMessage(errorResult.error || 'Failed to create sandbox environment');\n          setIsPreviewLoading(false);\n          return;\n        }\n\n        // If response is ok, result is an ExecutionResult\n        const executionResult = result as ExecutionResult;\n\n        // Enhanced sandbox tracking\n        // const creationTime = Date.now() - Date.now() // Would track actual creation time\n        \n        // Only capture url if it's a web execution result\n        if ('url' in executionResult) {\n          posthog.capture('sandbox_created', { url: executionResult.url });\n        }\n\n        setResult(executionResult);\n        setCurrentPreview({ fragment, result: executionResult });\n        setMessage({ result: executionResult });\n        setCurrentTab('fragment');\n        setIsPreviewLoading(false);\n      }\n    },\n  })\n\n  useEffect(() => {\n    async function loadProjectMessages() {\n      if (!currentProject) {\n        setMessages([])\n        return\n      }\n\n      setIsLoadingProject(true)\n      const projectMessages = await getProjectMessages(supabase, currentProject.id)\n      setMessages(projectMessages)\n      setIsLoadingProject(false)\n    }\n\n    loadProjectMessages()\n  }, [currentProject, supabase])\n\n  useEffect(() => {\n    async function saveMessagesToDb() {\n      if (!currentProject || !session || messages.length === 0) return\n\n      const lastMessage = messages[messages.length - 1]\n      const sequenceNumber = messages.length - 1\n\n      await saveMessage(supabase, currentProject.id, lastMessage, sequenceNumber)\n    }\n\n    if (messages.length > 0 && currentProject && session) {\n      saveMessagesToDb()\n    }\n  }, [messages, currentProject, session, supabase])\n\n  useEffect(() => {\n    if (object) {\n      setFragment(object)\n      const content: Message['content'] = [\n        { type: 'text', text: object.commentary || '' },\n        { type: 'code', text: object.code || '' },\n      ]\n      setMessages(prev => {\n        const lastMessage = prev[prev.length - 1]\n        if (!lastMessage || lastMessage.role !== 'assistant') {\n          return [\n            ...prev,\n            {\n              role: 'assistant',\n              content,\n              object,\n            },\n          ]\n        } else {\n          const newMessages = [...prev]\n          newMessages[prev.length - 1] = {\n            ...lastMessage,\n            content,\n            object,\n          }\n          return newMessages\n        }\n      })\n    }\n  }, [object])\n\n  useEffect(() => {\n    if (error) stop()\n  }, [error, stop])\n\n  // Track session end when component unmounts\n  useEffect(() => {\n    return () => {\n      if (session?.user?.id) {\n        const sessionDuration = Date.now() - sessionStartTime\n        posthog.capture('session_end', {\n          duration: sessionDuration,\n          fragments_generated: fragmentsGenerated,\n          messages_count: messagesCount,\n          errors_encountered: errorsEncountered\n        })\n      }\n    }\n  }, [session?.user?.id, sessionStartTime, fragmentsGenerated, messagesCount, errorsEncountered])\n\n  function setMessage(message: Partial<Message>, index?: number) {\n    setMessages((previousMessages) => {\n      const updatedMessages = [...previousMessages]\n      updatedMessages[index ?? previousMessages.length - 1] = {\n        ...previousMessages[index ?? previousMessages.length - 1],\n        ...message,\n      }\n      return updatedMessages\n    })\n  }\n\n  async function handleSendPrompt(message: string, files: File[] = []) {\n    if (!session) {\n      return setAuthDialog(true)\n    }\n\n    if (isLoading) {\n      stop()\n    }\n\n    const currentInput = message\n    const currentFiles = files\n    setCurrentTab('code')\n\n    const content: Message['content'] = [{ type: 'text', text: currentInput }]\n    \n    const images = await toMessageImage(currentFiles)\n    if (images.length > 0) {\n      images.forEach((image) => {\n        content.push({ type: 'image', image })\n      })\n    }\n\n    const newMessage: Message = {\n      role: 'user',\n      content,\n    }\n    const updatedMessages = [...messages, newMessage]\n    setMessages(updatedMessages)\n\n    const templateToSend =\n      selectedTemplate === 'auto'\n        ? templates\n        : { [selectedTemplate]: templates[selectedTemplate] }\n\n    submit({\n      userID: session?.user?.id,\n      teamID: userTeam?.id,\n      messages: toAISDKMessages(updatedMessages),\n      template: templateToSend,\n      model: currentModel,\n      config: languageModel,\n      ...(shouldUseMorph && fragment ? { currentFragment: fragment } : {}),\n    })\n\n    if (!currentProject) {\n      try {\n        const title = await generateProjectTitle(currentInput)\n        if (supabase) {\n          const newProject = await createProject(supabase, title, selectedTemplate === 'auto' ? undefined : selectedTemplate)\n          if (newProject) {\n            setCurrentProject(newProject)\n          }\n        }\n      } catch (error) {\n        console.error('Error creating project:', error)\n      }\n    }\n\n    // Enhanced chat analytics\n    setMessagesCount(prev => prev + 1)\n    \n    const promptLength = currentInput.length\n    const hasImages = currentFiles.length > 0\n    \n    // Track template selection\n    if (selectedTemplate !== 'auto') {\n      posthog.capture('template_selected', { template: selectedTemplate, source: 'manual' })\n    }\n        \n    posthog.capture('chat_submit', {\n      template: selectedTemplate,\n      model: languageModel.model,\n    })\n  }\n\n  function retry() {\n    submit({\n      userID: session?.user?.id,\n      teamID: userTeam?.id,\n      messages: toAISDKMessages(messages),\n      template: templates,\n      model: currentModel,\n      config: languageModel,\n      ...(shouldUseMorph && fragment ? { currentFragment: fragment } : {}),\n    })\n  }\n\n\n  function logout() {\n    if (supabase) {\n      supabase.auth.signOut()\n    } else {\n      console.warn('Supabase is not initialized')\n    }\n  }\n\n  function handleLanguageModelChange(e: LLMModelConfig) {\n    const previousModel = languageModel.model\n    const newModel = e.model\n    \n    if (previousModel && newModel && previousModel !== newModel) {\n      // Track model switching\n      posthog.capture('model_switch', {\n        previousModel,\n        newModel,\n        source: 'experiment'\n      })\n      \n      // Revenue tracking handled by analytics service\n    }\n    \n    setLanguageModel({ ...languageModel, ...e })\n  }\n\n  function handleSocialClick(target: 'github' | 'x' | 'discord') {\n    if (target === 'github') {\n      window.open('https://github.com/Gerome-Elassaad/CodingIT', '_blank')\n    } else if (target === 'x') {\n      window.open('https://x.com/codinit_dev', '_blank')\n    }\n\n    // Enhanced social tracking\n    posthog.capture(`${target}_click`, { target })\n  }\n\n  function handleClearChat() {\n    stop()\n    setMessages([])\n    setFragment(undefined)\n    setResult(undefined)\n    setCurrentTab('code')\n    setIsPreviewLoading(false)\n    setCurrentProject(null)\n  }\n\n  function setCurrentPreview(preview: {\n    fragment: DeepPartial<FragmentSchema> | undefined\n    result: ExecutionResult | undefined\n  }) {\n    setFragment(preview.fragment)\n    setResult(preview.result)\n  }\n\n  async function handleSaveFile(path: string, content: string) {\n    if (!session) return\n\n    try {\n      // Check if this is a sandbox file (when result.sbxId exists)\n      if (result?.sbxId) {\n        // Save to sandbox\n        const response = await fetch(`/api/sandbox/${result.sbxId}/files/content`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            path,\n            content\n          }),\n        })\n\n        if (response.ok) {\n          // Update selected file only if it's the same file being edited\n          if (selectedFile?.path === path) {\n            setSelectedFile({ path, content })\n          }\n        } else {\n          console.error('Failed to save sandbox file:', response.statusText)\n        }\n      } else {\n        // Save to IDE workspace\n        const response = await fetch('/api/files/content', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            path,\n            content\n          }),\n        })\n\n        if (response.ok) {\n          // Update selected file only if it's the same file being edited\n          if (selectedFile?.path === path) {\n            setSelectedFile({ path, content })\n          }\n        } else {\n          console.error('Failed to save file:', response.statusText)\n        }\n      }\n    } catch (error) {\n      console.error('Error saving file:', error)\n    }\n  }\n\n  async function handleExecuteCode(code: string): Promise<any> {\n    if (!session) {\n      throw new Error('No active session')\n    }\n\n    try {\n      const response = await fetch('/api/execute', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          code,\n          userID: session.user.id,\n          teamID: userTeam?.id,\n          accessToken: session.access_token,\n        }),\n      })\n\n      if (!response.ok) {\n        const errorData: { error?: string } = await response.json()\n        throw new Error(errorData.error || 'Code execution failed')\n      }\n\n      const result = await response.json()\n      return result\n    } catch (error) {\n      console.error('Error executing code:', error)\n      throw error\n    }\n  }\n\n  function handleUndo() {\n    setMessages((previousMessages) => [...previousMessages.slice(0, -2)])\n    setCurrentPreview({ fragment: undefined, result: undefined })\n  }\n\n  function handleStartNewChat() {\n    handleClearChat()\n  }\n\n  function handleSearch(query: string) {\n    setSearchQuery(query)\n    // The actual filtering is handled in the Sidebar component\n    // when it receives the search query through props\n  }\n\n  function handleGetFreeTokens() {\n    // Open pricing modal to show subscription options and free token information\n    setIsPricingModalOpen(true)\n  }\n\n\n  return (\n    <main className=\"flex min-h-screen max-h-screen\">\n      {supabase && (\n        <AuthDialog\n          open={isAuthDialogOpen}\n          setOpen={setAuthDialog}\n          view={authView}\n          supabase={supabase as unknown as SupabaseClient<any, \"public\", \"public\">}\n        />\n      )}\n\n      <PricingModal\n        isOpen={isPricingModalOpen}\n        onClose={() => setIsPricingModalOpen(false)}\n      />\n\n      {session && (\n        <Sidebar\n          userPlan={userTeam?.tier}\n          onChatSelected={handleChatSelected}\n          onStartNewChat={handleStartNewChat}\n          onSearch={handleSearch}\n          onGetFreeTokens={handleGetFreeTokens}\n          onSignOut={logout}\n          searchQuery={searchQuery}\n        />\n      )}\n\n      <div className={cn(\n        \"grid w-full md:grid-cols-2 transition-all duration-300\",\n        session ? \"ml-16\" : \"\"\n      )}>\n        <div\n          className={`flex flex-col w-full h-screen max-w-[800px] mx-auto px-4 ${fragment || isPreviewPanelOpen ? 'col-span-1' : 'col-span-2'}`}\n        >\n          <NavBar\n            session={session}\n            showLogin={() => setAuthDialog(true)}\n            signOut={logout}\n            onSocialClick={handleSocialClick}\n            onClear={handleClearChat}\n            canClear={messages.length > 0}\n            canUndo={messages.length > 1 && !isLoading}\n            onUndo={handleUndo}\n            onTogglePanel={() => {\n              setIsPreviewPanelOpen(!isPreviewPanelOpen)\n              if (!isPreviewPanelOpen) {\n                setCurrentTab('ide')\n              }\n            }}\n            isPanelOpen={isPreviewPanelOpen || !!fragment}\n          />\n          \n          <div className=\"flex justify-center mb-4\">\n            <HeroPillSecond />\n          </div>\n\n          <div className=\"flex-grow overflow-y-auto\">\n            {isLoadingProject ? (\n              <div className=\"flex items-center justify-center h-32\">\n                <div className=\"text-muted-foreground\">Loading project...</div>\n              </div>\n            ) : (\n              <Chat\n                messages={messages}\n                isLoading={isLoading}\n                setCurrentPreview={setCurrentPreview}\n              />\n            )}\n          </div>\n          \n          <div className=\"space-y-4 mt-4\">\n            {error && (\n              <div className=\"flex items-center justify-between p-2 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm\">\n                <span>{errorMessage}</span>\n                <button onClick={retry} className=\"ml-4 p-1 rounded-md hover:bg-red-500/20\">Retry</button>\n              </div>\n            )}\n              <PromptInputBox\n                onSend={handleSendPrompt}\n                templates={templates}\n                selectedTemplate={selectedTemplate}\n                onSelectedTemplateChange={setSelectedTemplate}\n                models={filteredModels}\n                languageModel={languageModel}\n                onLanguageModelChange={handleLanguageModelChange}\n                apiKeyConfigurable={!process.env.NEXT_PUBLIC_NO_API_KEY_INPUT}\n                baseURLConfigurable={!process.env.NEXT_PUBLIC_NO_BASE_URL_INPUT}\n                useMorphApply={useMorphApply}\n                onUseMorphApplyChange={setUseMorphApply}\n              />\n          </div>\n        </div>\n          <Preview\n          teamID={userTeam?.id}\n          accessToken={session?.access_token}\n          selectedTab={currentTab}\n          onSelectedTabChange={setCurrentTab}\n          isChatLoading={isLoading}\n          isPreviewLoading={isPreviewLoading}\n          fragment={fragment}\n          result={result as ExecutionResult}\n          onClose={() => {\n            setFragment(undefined)\n            setIsPreviewPanelOpen(false)\n          }}\n          code={fragment?.code || ''}\n          selectedFile={selectedFile}\n          onSelectFile={setSelectedFile}\n          onSave={handleSaveFile}\n          executeCode={handleExecuteCode}\n          />\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6912, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}